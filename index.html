<!DOCTYPE html>
<html class="dark" lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Luca Optimization - Deep Tech Optimization 2026</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ffffff",
                        "secondary": "#a1a1aa",
                        "accent": "#e4e4e7",
                        "dark-obsidian": "#030303",
                        "glass-white": "rgba(255, 255, 255, 0.02)",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"],
                        "sans": ["Plus Jakarta Sans", "sans-serif"]
                    }
                },
            },
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: #030303;
            color: #71717a;
            font-family: 'Plus Jakarta Sans', sans-serif;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* Full page scroll snapping */
        body.snap-enabled {
            overflow-y: hidden;
            height: 100vh;
            /* Fallback */
            height: 100dvh;
        }

        .snap-container {
            height: 100vh;
            /* Fallback */
            height: 100dvh;
            overflow-y: hidden;
            scroll-behavior: smooth;
            /* JS controls all scrolling */
        }

        @media (max-width: 768px) {
            /* Mobile: keep mandatory snap */
            .snap-container {
                scroll-snap-type: y mandatory;
            }
            
            .snap-section {
                scroll-snap-align: start;
                scroll-snap-stop: always;
            }
            
            /* Protocol section */
            #methodology {
                min-height: auto !important;
                padding: 0 !important;
            }
            
            #methodology > .max-w-7xl {
                padding: 0 1rem;
            }
            
            /* Title section */
            #methodology .mb-24 {
                height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                scroll-snap-align: center;
                scroll-snap-stop: always;
                margin-bottom: 0 !important;
            }
            
            /* Protocol cards grid - stacked */
            #methodology .grid {
                display: flex;
                flex-direction: column;
                gap: 2rem !important;
                padding: 1rem;
            }
            
            /* Protocol cards */
            #methodology .glass-card {
                height: auto;
                min-height: auto;
                padding: 2rem !important;
                margin: 0 auto !important;
                width: calc(100% - 2rem);
                max-width: 400px;
                
                /* Snap behavior */
                scroll-snap-align: center;
                scroll-snap-stop: always;
                
                /* Card styling */
                border-radius: 1.5rem;
                background: rgba(255, 255, 255, 0.02);
                border: 1px solid rgba(255, 255, 255, 0.1);
                
                /* Blur effect transition */
                transition: filter 0.3s ease, opacity 0.3s ease, transform 0.3s ease !important;
            }
            
            /* CSS Fallback: Cards 2 and 3 blurred by default */
            #methodology .glass-card.blurred {
                filter: blur(6px) !important;
                opacity: 0.3 !important;
                transform: scale(0.96) !important;
            }
            
            #methodology .glass-card.active {
                filter: blur(0px) !important;
                opacity: 1 !important;
                transform: scale(1) !important;
            }
        }

        .snap-section {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            height: 100vh;
            min-height: 100vh;
            max-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .snap-section-auto {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            min-height: auto;
            padding-top: 5vh;
            padding-bottom: 5vh;
        }

        /* Section transition animations */
        .snap-section,
        .snap-section-auto {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .snap-section.transitioning {
            opacity: 0.7;
        }

        ::selection {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ===== SECTION NAVIGATION DOTS ===== */
        .section-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .section-nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }

        .section-nav-dot::before {
            content: attr(data-label);
            position: absolute;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 9px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0);
            white-space: nowrap;
            transition: all 0.3s ease;
            pointer-events: none;
            font-weight: 600;
        }

        .section-nav-dot:hover::before {
            color: rgba(255, 255, 255, 0.6);
            right: 28px;
        }

        .section-nav-dot:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.2);
        }

        .section-nav-dot.active {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.4), 0 0 30px rgba(255, 255, 255, 0.1);
            transform: scale(1.3);
        }

        .section-nav-dot.active::before {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Progress line between dots */
        .section-nav-progress {
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            width: 1px;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            z-index: -1;
        }

        .section-nav-progress-fill {
            width: 100%;
            background: rgba(255, 255, 255, 0.4);
            transition: height 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @media (max-width: 768px) {
            .section-nav {
                right: 1rem;
                gap: 0.75rem;
            }

            .section-nav-dot {
                width: 8px;
                height: 8px;
            }

            .section-nav-dot::before {
                display: none;
            }
        }

        /* ===== MESH GRADIENT BACKGROUND ===== */
        #mesh-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.8;
        }

        /* ===== PARTICLE NETWORK ===== */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.25;
        }

        /* ===== GLASS CARDS ===== */
        .glass-card {
            backdrop-filter: blur(40px);
            -webkit-backdrop-filter: blur(40px);
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
                    rgba(255, 255, 255, 0.06),
                    transparent 40%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1;
        }

        .glass-card:hover::before {
            opacity: 1;
        }

        /* Border glow effect */
        .glass-card::after {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            background: radial-gradient(400px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
                    rgba(255, 255, 255, 0.3),
                    transparent 40%);
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: -1;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: xor;
            -webkit-mask-composite: xor;
            padding: 1px;
        }

        .glass-card:hover::after {
            opacity: 1;
        }

        .glass-card-thin {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.01);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* ===== GLOWING TEXT ===== */
        .text-glow {
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
        }

        .text-glow-pulse {
            animation: glowPulse 4s ease-in-out infinite;
        }

        @keyframes glowPulse {

            0%,
            100% {
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.15);
            }

            50% {
                text-shadow: 0 0 40px rgba(255, 255, 255, 0.3), 0 0 60px rgba(255, 255, 255, 0.1);
            }
        }

        /* ===== REVEAL ANIMATIONS ===== */
        .reveal-text {
            opacity: 0;
            transform: translateY(40px);
            filter: blur(10px);
        }

        .reveal-text.revealed {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* ===== MAGNETIC BUTTON ===== */
        .magnetic-btn {
            position: relative;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .magnetic-btn::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: white;
            border-radius: inherit;
            opacity: 0;
            filter: blur(25px);
            transition: opacity 0.4s ease;
            z-index: -1;
        }

        .magnetic-btn:hover::before {
            opacity: 0.2;
        }

        .magnetic-btn-inner {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* ===== CHART BARS ===== */
        .chart-bar {
            width: 6px;
            border-radius: 9999px;
            background: linear-gradient(to top, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.4));
            transform-origin: bottom;
            transform: scaleY(0);
        }

        .chart-bar.animated {
            animation: growBar 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes growBar {
            to {
                transform: scaleY(1);
            }
        }

        /* ===== PROGRESS CIRCLE ===== */
        .progress-circle {
            stroke-dashoffset: 175;
            transition: stroke-dashoffset 1.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* ===== FLOW LINES ===== */
        .flow-line {
            stroke-dasharray: 200;
            stroke-dashoffset: 200;
        }

        .flow-line.animated {
            animation: drawLine 2s ease forwards;
        }

        @keyframes drawLine {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* ===== COUNTER ===== */
        .counter {
            display: inline-block;
        }

        /* ===== NODE DECORATIONS ===== */
        .node-container {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .node-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .glowing-dot {
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 15px rgba(255, 255, 255, 0.2);
            animation: dotPulse 3s ease-in-out infinite;
        }

        @keyframes dotPulse {

            0%,
            100% {
                box-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 15px rgba(255, 255, 255, 0.2);
            }

            50% {
                box-shadow: 0 0 12px rgba(255, 255, 255, 0.7), 0 0 25px rgba(255, 255, 255, 0.3);
            }
        }

        .node-line {
            width: 1px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);
        }

        /* ===== MATRIX TYPEWRITER TEXT ===== */
        .matrix-text {
            width: 130px;
            height: 16px;
            text-align: center;
            position: relative;
            display: block;
            overflow: hidden;
        }

        .matrix-text::after {
            content: '▌';
            animation: cursorBlink 1s step-end infinite;
            opacity: 0.5;
            margin-left: 2px;
            font-size: 0.9em;
        }

        @keyframes cursorBlink {

            0%,
            45% {
                opacity: 0.5;
            }

            50%,
            100% {
                opacity: 0;
            }
        }

        .matrix-text.typing::after {
            animation: none;
            opacity: 0.7;
        }

        /* ===== SCROLL INDICATOR ===== */
        .scroll-indicator {
            animation: scrollBounce 2s ease-in-out infinite;
        }

        @keyframes scrollBounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(10px);
            }
        }

        /* ===== MATERIAL ICONS ===== */
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 200, 'GRAD' 0, 'opsz' 24;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .glass-card::before,
            .glass-card::after {
                display: none;
            }
        }

        /* ===== MOBILE RESPONSIVE FIXES ===== */
        @media (max-width: 1024px) {
            /* Sections - remove extra padding */
            .snap-section {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            /* Protocol cards - stack properly */
            .snap-section .grid.md\\:grid-cols-3 {
                gap: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            /* Hero section */
            .snap-section h1 {
                font-size: 2.75rem !important;
                line-height: 1.1;
            }
            
            /* Keep min-height for snap to work, but adjust padding */
            .snap-section {
                min-height: 100vh;
                padding-top: 100px;
                padding-bottom: 60px;
                justify-content: flex-start;
            }
            
            /* Hero section - centered content */
            .snap-section:first-of-type {
                min-height: 100vh;
                padding-top: 80px;
                justify-content: center;
            }
            
            /* Stats section - centered vertically */
            #stats {
                min-height: 100vh !important;
                height: 100vh;
                padding: 2rem 1rem !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
                align-items: center !important;
                scroll-snap-align: center;
                scroll-snap-stop: always;
            }
            
            #stats > .max-w-7xl {
                width: 100%;
            }
            
            .snap-section-auto {
                min-height: 100vh;
                padding: 2rem 1rem;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                scroll-snap-align: center;
                scroll-snap-stop: always;
            }
            
            /* Cards - full width and centered */
            .glass-card {
                width: 100%;
                margin-left: auto;
                margin-right: auto;
            }
            
            /* Grid layouts - single column */
            .grid.lg\\:grid-cols-2 {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            /* Target Profile / Out of Scope cards */
            .grid.lg\\:grid-cols-2 > div {
                width: 100%;
                padding: 2rem !important;
            }
            
            /* Stats grid - 2 columns on mobile */
            .grid.md\\:grid-cols-4 {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }
            
            /* Stats numbers smaller */
            .grid.md\\:grid-cols-4 .text-4xl {
                font-size: 2rem;
            }
            
            /* Protocol cards - stacked with space for snap */
            .grid.md\\:grid-cols-3 {
                grid-template-columns: 1fr;
                gap: 0;
            }
            
            /* About section - stack image and text */
            .flex.lg\\:flex-row {
                flex-direction: column;
                gap: 2rem;
            }
            
            /* About image - smaller on mobile */
            .flex.lg\\:flex-row .flex-1:first-child {
                max-width: 280px;
                margin: 0 auto;
            }
            
            /* Footer - less padding */
            footer.snap-section {
                padding-top: 60px;
                padding-bottom: 40px;
            }
            
            footer h2 {
                font-size: 2rem !important;
            }
            
            /* Hide floating nodes on mobile */
            .node-container {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
            }
            
            /* Hide scroll indicator on mobile */
            .scroll-indicator {
                display: none !important;
            }
            
            /* Navigation dots - smaller gap */
            .section-nav {
                right: 0.5rem;
            }
            
            /* Buttons - full width */
            .magnetic-btn {
                width: 100%;
                max-width: 300px;
            }
            
            /* Section titles */
            .text-4xl {
                font-size: 1.75rem;
            }
            
            .text-5xl {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            /* Extra small screens */
            .snap-section h1 {
                font-size: 2.25rem !important;
            }
            
            .glass-card {
                padding: 1.5rem !important;
                border-radius: 1.5rem;
            }
            
            /* Stats - smaller */
            .grid.md\\:grid-cols-4 .text-4xl,
            .grid.md\\:grid-cols-4 .text-5xl {
                font-size: 1.5rem;
            }
            
            .grid.md\\:grid-cols-4 {
                gap: 1rem;
            }
            
            /* Footer button */
            footer .magnetic-btn {
                padding: 1rem 2rem;
                font-size: 0.875rem;
            }
        }
    </style>
</head>

<body class="font-sans snap-enabled">
    <!-- Mesh Gradient Canvas -->
    <canvas id="mesh-canvas"></canvas>

    <!-- Particle Network Canvas -->
    <canvas id="particle-canvas"></canvas>

    <!-- Section Navigation Dots -->
    <div class="section-nav" id="section-nav">
        <div class="section-nav-progress">
            <div class="section-nav-progress-fill" id="nav-progress"></div>
        </div>
        <div class="section-nav-dot active" data-section="0" data-label="Home"></div>
        <div class="section-nav-dot" data-section="1" data-label="Protocol"></div>
        <div class="section-nav-dot" data-section="2" data-label="Stats"></div>
        <div class="section-nav-dot" data-section="3" data-label="Filter"></div>
        <div class="section-nav-dot" data-section="4" data-label="About"></div>
        <div class="section-nav-dot" data-section="5" data-label="Contact"></div>
    </div>

    <!-- Snap Scroll Container -->
    <div class="snap-container" id="snap-container">

        <!-- Navigation -->
        <nav class="fixed top-0 w-full z-[100] px-6 py-6">
            <div class="max-w-7xl mx-auto flex items-center justify-between glass-card-thin px-8 py-3 rounded-2xl">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full border border-white/20 flex items-center justify-center">
                        <div class="w-2 h-2 bg-white rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-lg font-display font-medium tracking-tight text-white">LUCA<span
                            class="opacity-40">.SYSTEMS</span></span>
                </div>
                <div class="hidden md:flex items-center gap-8">
                    <a class="nav-link text-xs tracking-widest uppercase font-medium text-zinc-500 hover:text-white transition-colors cursor-pointer"
                        data-target="1">Protocol</a>
                    <a class="nav-link text-xs tracking-widest uppercase font-medium text-zinc-500 hover:text-white transition-colors cursor-pointer"
                        data-target="3">Filter</a>
                    <a class="nav-link text-xs tracking-widest uppercase font-medium text-zinc-500 hover:text-white transition-colors cursor-pointer"
                        data-target="4">About</a>
                    <button
                        class="magnetic-btn nav-link text-xs tracking-widest uppercase bg-white text-black px-6 py-2.5 rounded-full font-bold"
                        data-target="5">
                        <span class="magnetic-btn-inner">Access Session</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section
            class="snap-section relative min-h-screen flex flex-col items-center justify-center pt-20 px-6 overflow-hidden"
            data-section="0">
            <!-- Particle labels with typewriter effect are rendered on the canvas -->

            <div class="max-w-5xl mx-auto text-center relative z-10 space-y-12">
                <div
                    class="reveal-text inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] tracking-[0.4em] text-white/60 uppercase">
                    <span class="w-1 h-1 bg-white rounded-full animate-ping"></span>
                    Operational Clarity Engine v.26
                </div>

                <h1 class="reveal-text text-white text-6xl md:text-8xl font-display font-light leading-[1.1] tracking-tight"
                    style="transition-delay: 0.1s">
                    One-click for <span class="italic font-normal opacity-90 text-glow-pulse">Clarity</span>
                </h1>

                <p class="reveal-text text-lg md:text-xl text-zinc-500 max-w-2xl mx-auto leading-relaxed font-light"
                    style="transition-delay: 0.2s">
                    Engineering deep-tech operational systems for elite SMEs. Eliminating friction through intelligent
                    automation and structural mapping.
                </p>

                <div class="reveal-text flex flex-col sm:flex-row items-center justify-center gap-6 pt-4"
                    style="transition-delay: 0.3s">
                    <button
                        class="magnetic-btn px-8 py-4 rounded-full font-medium bg-white text-black w-full sm:w-auto">
                        <span class="magnetic-btn-inner">Start Strategic Audit</span>
                    </button>
                    <button
                        class="magnetic-btn px-8 py-4 rounded-full font-medium bg-transparent border border-white/20 text-white hover:bg-white/5 w-full sm:w-auto">
                        <span class="magnetic-btn-inner">Explore Protocol</span>
                    </button>
                </div>
            </div>

            <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-4 opacity-30 cursor-pointer hover:opacity-60 transition-opacity"
                onclick="document.querySelectorAll('.snap-section')[1].scrollIntoView({behavior: 'smooth'})">
                <span class="text-[10px] tracking-[0.5em] uppercase font-bold text-white">Scroll to map</span>
                <div class="w-px h-12 bg-gradient-to-b from-white to-transparent"></div>
            </div>
        </section>

        <!-- Methodology Section -->
        <section class="snap-section py-12 md:py-32 relative" id="methodology" data-section="1">
            <div class="max-w-7xl mx-auto px-6">
                <div class="mb-10 md:mb-24 text-center">
                    <h2 class="reveal-text text-4xl font-display font-light text-white mb-4">The Luca Protocol</h2>
                    <div class="reveal-text w-24 h-px bg-white/20 mx-auto" style="transition-delay: 0.1s"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                    <!-- Card 1 -->
                    <div class="glass-card p-10 rounded-3xl space-y-8 relative group tilt-card">
                        <div class="flex justify-between items-center">
                            <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase">Phase 01</span>
                            <span
                                class="material-symbols-outlined text-white/30 group-hover:text-white transition-colors">query_stats</span>
                        </div>
                        <div class="space-y-4">
                            <h3 class="text-xl font-medium text-white">Quantum Diagnostic</h3>
                            <p class="text-sm text-zinc-600 leading-relaxed font-light">Deep flow audit and friction
                                mapping. We measure the invisible to optimize the concrete.</p>
                        </div>
                        <div class="flex items-end gap-1.5 h-16 pt-4">
                            <div class="chart-bar h-[40%]" data-delay="0"></div>
                            <div class="chart-bar h-[70%]" data-delay="0.1"></div>
                            <div class="chart-bar h-[55%]" data-delay="0.2"></div>
                            <div class="chart-bar h-[90%]" data-delay="0.3"></div>
                            <div class="chart-bar h-[65%]" data-delay="0.4"></div>
                            <div class="chart-bar h-[100%]" data-delay="0.5"></div>
                        </div>
                    </div>

                    <!-- Card 2 -->
                    <div class="glass-card p-10 rounded-3xl space-y-8 relative group tilt-card">
                        <div class="flex justify-between items-center">
                            <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase">Phase 02</span>
                            <span
                                class="material-symbols-outlined text-white/30 group-hover:text-white transition-colors">hub</span>
                        </div>
                        <div class="space-y-4">
                            <h3 class="text-xl font-medium text-white">Neural Architecture</h3>
                            <p class="text-sm text-zinc-600 leading-relaxed font-light">Design of a bespoke ecosystem
                                merging Gen-AI with robust No-Code infrastructure.</p>
                        </div>
                        <div class="relative w-16 h-16 flex items-center justify-center">
                            <svg class="absolute inset-0 w-full h-full -rotate-90">
                                <circle class="text-white/5" cx="32" cy="32" fill="transparent" r="28"
                                    stroke="currentColor" stroke-width="1.5"></circle>
                                <circle class="progress-circle text-white/40" cx="32" cy="32" fill="transparent" r="28"
                                    stroke="currentColor" stroke-dasharray="175" stroke-linecap="round" stroke-width="2"
                                    data-target="60"></circle>
                            </svg>
                            <span class="text-[10px] font-bold text-white/60 counter" data-target="65"
                                data-suffix="%">0%</span>
                        </div>
                    </div>

                    <!-- Card 3 -->
                    <div class="glass-card p-10 rounded-3xl space-y-8 relative group tilt-card">
                        <div class="flex justify-between items-center">
                            <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase">Phase 03</span>
                            <span
                                class="material-symbols-outlined text-white/30 group-hover:text-white transition-colors">speed</span>
                        </div>
                        <div class="space-y-4">
                            <h3 class="text-xl font-medium text-white">Agile Deployment</h3>
                            <p class="text-sm text-zinc-600 leading-relaxed font-light">Orchestrated production launch
                                and KPI steering to ensure immediate ROI.</p>
                        </div>
                        <div class="h-16 flex items-center relative overflow-hidden">
                            <svg class="w-full h-8 fill-none" viewBox="0 0 100 20">
                                <path class="flow-line stroke-white/30" d="M0 10 Q 25 2, 50 10 T 100 10"
                                    stroke-width="0.5"></path>
                                <path class="flow-line stroke-white/10" d="M0 15 Q 25 5, 50 15 T 100 15"
                                    stroke-width="0.5" style="animation-delay: 0.3s"></path>
                            </svg>
                            <div class="absolute right-0 w-1 h-1 bg-white rounded-full animate-ping"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="snap-section py-20 relative overflow-hidden border-y border-white/[0.05] flex items-center"
            id="stats" data-section="2">
            <div class="max-w-7xl mx-auto px-6">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-12 text-center">
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="40" data-prefix="+" data-suffix="%">0%</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">Productivity</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="150" data-suffix="h">0h</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">Saved Monthly</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="6" data-suffix="m">0m</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">ROI Guarantee</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="30" data-suffix="+">0+</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">Elite Clients</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Expertise Section -->
        <section class="snap-section py-12 md:py-32" id="expertise" data-section="3">
            <div class="max-w-7xl mx-auto px-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- Target Profile -->
                    <div class="glass-card rounded-[2.5rem] p-12 md:p-16 relative overflow-hidden tilt-card">
                        <div
                            class="absolute -top-20 -right-20 w-60 h-60 bg-white/[0.03] blur-[100px] rounded-full pointer-events-none">
                        </div>
                        <div class="absolute top-0 right-0 p-8 opacity-20">
                            <span class="material-symbols-outlined !text-6xl">check_circle</span>
                        </div>
                        <h3
                            class="reveal-text text-2xl font-display font-medium text-white mb-12 flex items-center gap-4">
                            <span class="w-8 h-px bg-white/30"></span> Target Profile
                        </h3>
                        <div class="space-y-10">
                            <div class="reveal-text flex items-start gap-6" style="transition-delay: 0.1s">
                                <div class="text-2xl font-display font-light text-white text-glow">+10</div>
                                <div>
                                    <h4 class="text-white font-medium">Headcount Threshold</h4>
                                    <p class="text-sm text-zinc-600 mt-1">Structured teams ready for scale-up
                                        automation.</p>
                                </div>
                            </div>
                            <div class="reveal-text flex items-start gap-6" style="transition-delay: 0.2s">
                                <div class="text-2xl font-display font-light text-white text-glow">+1M$</div>
                                <div>
                                    <h4 class="text-white font-medium">Annual Revenue</h4>
                                    <p class="text-sm text-zinc-600 mt-1">High-volume operations requiring precision
                                        engines.</p>
                                </div>
                            </div>
                            <div class="reveal-text flex items-start gap-6" style="transition-delay: 0.3s">
                                <div class="text-2xl font-display font-light text-white text-glow">Long</div>
                                <div>
                                    <h4 class="text-white font-medium">Growth Vision</h4>
                                    <p class="text-sm text-zinc-600 mt-1">Commitment to building a sustainable tech
                                        infrastructure.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Out of Scope -->
                    <div class="glass-card rounded-[2.5rem] p-12 md:p-16 opacity-50 relative overflow-hidden tilt-card">
                        <div
                            class="absolute -top-20 -left-20 w-40 h-40 bg-white/[0.02] blur-[80px] rounded-full pointer-events-none">
                        </div>
                        <div class="absolute top-0 right-0 p-8 opacity-20">
                            <span class="material-symbols-outlined !text-6xl text-red-500/50">block</span>
                        </div>
                        <h3
                            class="reveal-text text-2xl font-display font-medium text-white/60 mb-12 flex items-center gap-4">
                            <span class="w-8 h-px bg-white/10"></span> Out of Scope
                        </h3>
                        <ul class="space-y-8">
                            <li class="reveal-text flex items-center gap-4 text-zinc-600"
                                style="transition-delay: 0.1s">
                                <span class="material-symbols-outlined text-xs">close</span>
                                Early-stage startups (pre-seed)
                            </li>
                            <li class="reveal-text flex items-center gap-4 text-zinc-600"
                                style="transition-delay: 0.2s">
                                <span class="material-symbols-outlined text-xs">close</span>
                                One-off "quick-fix" requests
                            </li>
                            <li class="reveal-text flex items-center gap-4 text-zinc-600"
                                style="transition-delay: 0.3s">
                                <span class="material-symbols-outlined text-xs">close</span>
                                Budgets under 10k€ deployment
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="snap-section overflow-hidden" id="about" data-section="4">
            <div class="max-w-7xl mx-auto px-6 h-full flex items-center">
                <div class="flex flex-col lg:flex-row gap-6 lg:gap-16 items-center w-full py-8">
                    <!-- Image visible on all screens -->
                    <div class="flex-shrink-0 relative w-full max-w-[200px] lg:max-w-[350px] mx-auto lg:mx-0">
                        <div class="absolute -inset-10 bg-white/[0.03] blur-[120px] rounded-full"></div>
                        <div class="relative rounded-[2rem] overflow-hidden aspect-[4/5] shadow-2xl"
                            style="background-image: url('https://i.goopics.net/sq43d6.jpg'); background-size: cover; background-position: top center; border: none;">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-[#030303] via-transparent to-transparent">
                            </div>
                            <div class="absolute bottom-4 left-4 lg:bottom-8 lg:left-8 glass-card-thin p-3 lg:p-5 rounded-xl">
                                <span class="text-white font-display font-medium block text-xs lg:text-base">LUCA.</span>
                                <span class="text-[7px] lg:text-[10px] text-white/40 tracking-[0.2em] uppercase font-bold">Operational Architect</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex-1 space-y-4 lg:space-y-8">
                        <h2 class="reveal-text text-2xl md:text-4xl lg:text-5xl font-display font-light text-white leading-tight">
                            Expertise serving elite performance.</h2>
                        <p class="reveal-text text-sm lg:text-lg text-zinc-500 leading-relaxed font-light"
                            style="transition-delay: 0.1s">
                            More than a consultant, I am the <span class="text-white font-medium">technical
                                backbone</span> for leaders targeting excellence. My path in operations has taught me
                            one absolute truth: clarity is the ultimate luxury.
                        </p>
                        <div class="grid grid-cols-2 gap-4 lg:gap-6">
                            <div class="reveal-text glass-card p-4 lg:p-6 rounded-2xl border-l-2 border-white/20 tilt-card"
                                style="transition-delay: 0.2s">
                                <span class="material-symbols-outlined text-white/60 mb-2 text-xl lg:text-2xl">psychology</span>
                                <h4 class="text-white font-medium mb-1 text-sm lg:text-base">Human-Centric AI</h4>
                                <p class="text-[10px] lg:text-xs text-zinc-600 leading-relaxed">AI must serve your talent, not replace it.</p>
                            </div>
                            <div class="reveal-text glass-card p-4 lg:p-6 rounded-2xl border-l-2 border-white/20 tilt-card"
                                style="transition-delay: 0.3s">
                                <span class="material-symbols-outlined text-white/60 mb-2 text-xl lg:text-2xl">translate</span>
                                <h4 class="text-white font-medium mb-1 text-sm lg:text-base">Business First</h4>
                                <p class="text-[10px] lg:text-xs text-zinc-600 leading-relaxed">Zero jargon. Only tangible, measurable outcomes.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer CTA -->
        <footer class="snap-section py-40 relative" data-section="5">
            <div class="max-w-4xl mx-auto px-6 relative z-10 text-center space-y-16">
                <div class="space-y-6">
                    <h2 class="reveal-text text-5xl md:text-7xl font-display font-light text-white tracking-tight">Ready
                        for the next <span class="italic font-normal opacity-80 text-glow-pulse">level?</span></h2>
                    <p class="reveal-text text-lg text-zinc-600 font-light max-w-xl mx-auto"
                        style="transition-delay: 0.1s">
                        Secure a 45-minute discovery session. Walk away with a blueprint for your automation potential.
                    </p>
                </div>
                <button
                    class="reveal-text magnetic-btn px-16 py-6 bg-white text-black text-lg font-bold rounded-full shadow-[0_0_60px_rgba(255,255,255,0.15)]"
                    style="transition-delay: 0.2s">
                    <span class="magnetic-btn-inner">Book Discovery Session</span>
                </button>
                <div
                    class="pt-32 flex flex-col md:flex-row justify-between items-center gap-10 border-t border-white/[0.05]">
                    <div class="flex items-center gap-3">
                        <div class="w-6 h-6 rounded-full border border-white/20 flex items-center justify-center">
                            <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                        </div>
                        <span class="text-[10px] tracking-[0.4em] font-bold text-white uppercase">Luca Optimization
                            Boutique © 2026</span>
                    </div>
                    <div class="flex gap-8 text-[10px] tracking-[0.3em] font-bold uppercase text-zinc-600">
                        <a class="hover:text-white transition-colors" href="#">Legal</a>
                        <a class="hover:text-white transition-colors" href="#">LinkedIn</a>
                        <a class="hover:text-white transition-colors" href="#">Privacy</a>
                    </div>
                </div>
            </div>
        </footer>

    </div><!-- End snap-container -->

    <script>
        // ===== MESH GRADIENT BACKGROUND =====
        const meshCanvas = document.getElementById('mesh-canvas');
        const meshCtx = meshCanvas.getContext('2d');
        let mouseX = 0.5;
        let mouseY = 0.5;
        let targetMouseX = 0.5;
        let targetMouseY = 0.5;

        function resizeMeshCanvas() {
            meshCanvas.width = window.innerWidth;
            meshCanvas.height = window.innerHeight;
        }
        resizeMeshCanvas();
        window.addEventListener('resize', resizeMeshCanvas);

        // Gradient orbs with organic movement - Black & White Aurora
        const orbs = [
            { x: 0.15, y: 0.1, vx: 0.0002, vy: 0.00015, radius: 0.6, color: 'hsla(220, 10%, 18%, 0.9)' },
            { x: 0.85, y: 0.2, vx: -0.00015, vy: 0.0002, radius: 0.5, color: 'hsla(210, 8%, 15%, 0.8)' },
            { x: 0.5, y: 0.6, vx: 0.00015, vy: -0.00015, radius: 0.55, color: 'hsla(0, 0%, 20%, 0.6)' },
            { x: 0.2, y: 0.85, vx: 0.0002, vy: 0.0001, radius: 0.4, color: 'hsla(220, 5%, 12%, 0.7)' },
            { x: 0.7, y: 0.7, vx: -0.0001, vy: -0.0002, radius: 0.35, color: 'hsla(0, 0%, 25%, 0.4)' },
        ];

        function drawMeshGradient() {
            meshCtx.fillStyle = '#030303';
            meshCtx.fillRect(0, 0, meshCanvas.width, meshCanvas.height);

            // Smooth mouse tracking
            mouseX += (targetMouseX - mouseX) * 0.02;
            mouseY += (targetMouseY - mouseY) * 0.02;

            orbs.forEach((orb, i) => {
                // Organic movement
                orb.x += orb.vx + Math.sin(Date.now() * 0.0001 + i) * 0.0001;
                orb.y += orb.vy + Math.cos(Date.now() * 0.00012 + i) * 0.0001;

                // Mouse influence
                const dx = mouseX - orb.x;
                const dy = mouseY - orb.y;
                orb.x += dx * 0.001;
                orb.y += dy * 0.001;

                // Bounce at edges
                if (orb.x < 0 || orb.x > 1) orb.vx *= -1;
                if (orb.y < 0 || orb.y > 1) orb.vy *= -1;
                orb.x = Math.max(0, Math.min(1, orb.x));
                orb.y = Math.max(0, Math.min(1, orb.y));

                // Draw gradient
                const gradient = meshCtx.createRadialGradient(
                    orb.x * meshCanvas.width, orb.y * meshCanvas.height, 0,
                    orb.x * meshCanvas.width, orb.y * meshCanvas.height, orb.radius * Math.max(meshCanvas.width, meshCanvas.height)
                );
                gradient.addColorStop(0, orb.color);
                gradient.addColorStop(1, 'transparent');
                meshCtx.fillStyle = gradient;
                meshCtx.fillRect(0, 0, meshCanvas.width, meshCanvas.height);
            });

            requestAnimationFrame(drawMeshGradient);
        }
        drawMeshGradient();

        // ===== PARTICLE NETWORK =====
        const particleCanvas = document.getElementById('particle-canvas');
        const particleCtx = particleCanvas.getContext('2d');
        const particles = [];
        const particleCount = 60;
        const connectionDistance = 150;

        function resizeParticleCanvas() {
            particleCanvas.width = window.innerWidth;
            particleCanvas.height = window.innerHeight;
        }
        resizeParticleCanvas();
        window.addEventListener('resize', resizeParticleCanvas);

        // Data words for particle labels
        const dataWords = [
            'SYNC_NODE', 'DATA_FLUX', 'PROCESS_ID', 'HASH_0x4F', 'QUEUE_POP',
            'BATCH_RUN', 'TASK_INIT', 'FLOW_CTRL', 'MEM_ALLOC', 'HEAP_SORT',
            'ASYNC_IO', 'YIELD_MAX', 'LOAD_BAL', 'CACHE_HIT', 'REF_COUNT',
            'GC_SWEEP', 'MUTEX_LK', 'FORK_JOIN', 'PIPE_BUF', 'SHARD_KEY',
            'NODE_42', 'CRON_JOB', 'API_CALL', 'DB_QUERY', 'NET_REQ',
            '0x7F3A9B', 'THREAD_0', 'STACK_POP', 'MALLOC_4K', 'TCP_SYN'
        ];

        class Particle {
            constructor(index) {
                this.x = Math.random() * particleCanvas.width;
                this.y = Math.random() * particleCanvas.height;
                this.vx = (Math.random() - 0.5) * 0.4;
                this.vy = (Math.random() - 0.5) * 0.4;
                this.radius = Math.random() * 1.5 + 0.5;
                this.depth = Math.random(); // For parallax
                
                // More particles get labels (about 25%)
                this.hasLabel = this.depth > 0.5 && Math.random() > 0.7;
                
                // Typewriter state
                this.words = [...dataWords].sort(() => Math.random() - 0.5);
                this.wordIndex = Math.floor(Math.random() * this.words.length);
                this.currentWord = this.words[this.wordIndex];
                this.displayText = '';
                this.charIndex = 0;
                this.isTyping = true;
                this.isDeleting = false;
                this.pauseTime = 0;
                
                // Random speeds for desync effect
                this.typeSpeed = 80 + Math.random() * 120;
                this.deleteSpeed = 40 + Math.random() * 60;
                this.pauseDuration = 2000 + Math.random() * 3000;
                this.lastUpdate = Date.now() - Math.random() * 5000;
                
                // Some start mid-word
                if (Math.random() > 0.5) {
                    this.charIndex = Math.floor(Math.random() * this.currentWord.length);
                    this.displayText = this.currentWord.substring(0, this.charIndex);
                }
            }

            updateTypewriter() {
                if (!this.hasLabel) return;
                
                const now = Date.now();
                const elapsed = now - this.lastUpdate;
                
                if (this.pauseTime > 0) {
                    if (elapsed > this.pauseTime) {
                        this.pauseTime = 0;
                        this.lastUpdate = now;
                    }
                    return;
                }
                
                if (this.isTyping) {
                    if (elapsed > this.typeSpeed) {
                        if (this.charIndex < this.currentWord.length) {
                            this.displayText = this.currentWord.substring(0, this.charIndex + 1);
                            this.charIndex++;
                        } else {
                            this.isTyping = false;
                            this.pauseTime = this.pauseDuration;
                            this.isDeleting = true;
                        }
                        this.lastUpdate = now;
                    }
                } else if (this.isDeleting) {
                    if (elapsed > this.deleteSpeed) {
                        if (this.charIndex > 0) {
                            this.charIndex--;
                            this.displayText = this.currentWord.substring(0, this.charIndex);
                        } else {
                            this.isDeleting = false;
                            this.isTyping = true;
                            this.wordIndex = (this.wordIndex + 1) % this.words.length;
                            this.currentWord = this.words[this.wordIndex];
                            this.pauseTime = 300 + Math.random() * 500;
                        }
                        this.lastUpdate = now;
                    }
                }
            }

            update(scrollY) {
                this.x += this.vx;
                this.y += this.vy;

                // Parallax effect based on depth
                const parallaxOffset = scrollY * this.depth * 0.1;

                if (this.x < 0 || this.x > particleCanvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > particleCanvas.height) this.vy *= -1;

                this.updateTypewriter();

                return parallaxOffset;
            }

            draw(parallaxOffset) {
                const y = this.y - parallaxOffset;
                
                // Draw particle dot
                particleCtx.beginPath();
                particleCtx.arc(this.x, y, this.radius, 0, Math.PI * 2);
                particleCtx.fillStyle = `rgba(255, 255, 255, ${0.3 + this.depth * 0.4})`;
                particleCtx.fill();
                
                // Draw label with typewriter effect
                if (this.hasLabel && this.displayText) {
                    // Text opacity based on depth (closer = more visible)
                    const textOpacity = Math.max(0, (this.depth - 0.5) * 1.2);
                    particleCtx.font = '9px monospace';
                    particleCtx.textAlign = 'center';
                    particleCtx.fillStyle = `rgba(255, 255, 255, ${textOpacity * 0.4})`;
                    particleCtx.fillText(this.displayText, this.x, y + 14);
                    
                    // Blinking cursor when typing
                    if (this.isTyping && Math.sin(Date.now() / 300) > 0) {
                        const textWidth = particleCtx.measureText(this.displayText).width;
                        particleCtx.fillText('_', this.x + textWidth/2 + 3, y + 14);
                    }
                }
            }
        }

        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle(i));
        }

        function drawParticles() {
            particleCtx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);
            const container = document.getElementById('snap-container');
            const scrollY = container ? container.scrollTop : window.scrollY;

            // Draw connections
            for (let i = 0; i < particles.length; i++) {
                const parallaxI = particles[i].update(scrollY);
                for (let j = i + 1; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < connectionDistance) {
                        const opacity = (1 - distance / connectionDistance) * 0.15;
                        particleCtx.beginPath();
                        particleCtx.moveTo(particles[i].x, particles[i].y - parallaxI);
                        const parallaxJ = particles[j].depth * scrollY * 0.1;
                        particleCtx.lineTo(particles[j].x, particles[j].y - parallaxJ);
                        particleCtx.strokeStyle = `rgba(255, 255, 255, ${opacity})`;
                        particleCtx.lineWidth = 0.5;
                        particleCtx.stroke();
                    }
                }
            }

            // Draw particles
            particles.forEach(p => {
                const parallax = p.depth * scrollY * 0.1;
                p.draw(parallax);
            });

            requestAnimationFrame(drawParticles);
        }
        drawParticles();

        // ===== MOUSE TRACKING =====
        document.addEventListener('mousemove', (e) => {
            targetMouseX = e.clientX / window.innerWidth;
            targetMouseY = e.clientY / window.innerHeight;
        });

        // ===== TILT CARDS =====
        const tiltCards = document.querySelectorAll('.tilt-card');
        tiltCards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = (y - centerY) / 20;
                const rotateY = (centerX - x) / 20;

                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
                card.style.setProperty('--mouse-x', `${(x / rect.width) * 100}%`);
                card.style.setProperty('--mouse-y', `${(y / rect.height) * 100}%`);
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
            });
        });

        // ===== GLASS CARDS MOUSE TRACKING =====
        const glassCards = document.querySelectorAll('.glass-card');
        glassCards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.setProperty('--mouse-x', `${(x / rect.width) * 100}%`);
                card.style.setProperty('--mouse-y', `${(y / rect.height) * 100}%`);
            });
        });

        // ===== MAGNETIC BUTTONS =====
        const magneticBtns = document.querySelectorAll('.magnetic-btn');
        magneticBtns.forEach(btn => {
            btn.addEventListener('mousemove', (e) => {
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                const inner = btn.querySelector('.magnetic-btn-inner');

                btn.style.transform = `translate(${x * 0.1}px, ${y * 0.1}px)`;
                if (inner) inner.style.transform = `translate(${x * 0.05}px, ${y * 0.05}px)`;
            });

            btn.addEventListener('mouseleave', () => {
                btn.style.transform = 'translate(0, 0)';
                const inner = btn.querySelector('.magnetic-btn-inner');
                if (inner) inner.style.transform = 'translate(0, 0)';
            });
        });

        // ===== SCROLL REVEAL =====
        const revealElements = document.querySelectorAll('.reveal-text');
        const nodeContainers = document.querySelectorAll('.node-container');

        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = entry.target.style.transitionDelay || '0s';
                    setTimeout(() => {
                        entry.target.classList.add('revealed');
                    }, parseFloat(delay) * 1000);
                }
            });
        }, { threshold: 0.1 });

        revealElements.forEach(el => revealObserver.observe(el));

        // Node containers - make visible immediately with stagger
        nodeContainers.forEach((el, i) => {
            setTimeout(() => {
                el.classList.add('visible');
            }, 300 + (i * 150));
        });

        // ===== ANIMATED COUNTERS =====
        const counters = document.querySelectorAll('.counter');
        const counterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
                    entry.target.classList.add('counted');
                    const target = parseInt(entry.target.dataset.target);
                    const prefix = entry.target.dataset.prefix || '';
                    const suffix = entry.target.dataset.suffix || '';
                    let current = 0;
                    const increment = target / 60;
                    const updateCounter = () => {
                        current += increment;
                        if (current < target) {
                            entry.target.textContent = prefix + Math.floor(current) + suffix;
                            requestAnimationFrame(updateCounter);
                        } else {
                            entry.target.textContent = prefix + target + suffix;
                        }
                    };
                    updateCounter();
                }
            });
        }, { threshold: 0.5 });

        counters.forEach(el => counterObserver.observe(el));

        // ===== CHART BARS ANIMATION =====
        const chartBars = document.querySelectorAll('.chart-bar');
        const chartObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = entry.target.dataset.delay || 0;
                    setTimeout(() => {
                        entry.target.classList.add('animated');
                    }, delay * 1000);
                }
            });
        }, { threshold: 0.5 });

        chartBars.forEach(el => chartObserver.observe(el));

        // ===== PROGRESS CIRCLES =====
        const progressCircles = document.querySelectorAll('.progress-circle');
        const circleObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
                    entry.target.classList.add('animated');
                    const target = parseInt(entry.target.dataset.target);
                    const circumference = 175;
                    const offset = circumference - (target / 100) * circumference;
                    entry.target.style.strokeDashoffset = offset;
                }
            });
        }, { threshold: 0.5 });

        progressCircles.forEach(el => circleObserver.observe(el));

        // ===== FLOW LINES =====
        const flowLines = document.querySelectorAll('.flow-line');
        const flowObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animated');
                }
            });
        }, { threshold: 0.5 });

        flowLines.forEach(el => flowObserver.observe(el));

        // ===== GSAP SCROLL ANIMATIONS =====
        gsap.registerPlugin(ScrollTrigger);

        // ===== FULL PAGE SNAP SCROLLING =====
        const snapContainer = document.getElementById('snap-container');
        const snapSections = document.querySelectorAll('.snap-section');
        const navDots = document.querySelectorAll('.section-nav-dot');
        const navProgress = document.getElementById('nav-progress');
        let currentSection = 0;
        let isScrolling = false;
        let scrollCooldown = null;
        let wheelAccumulator = 0;
        let lastScrollTime = Date.now();
        const wheelThreshold = 80;
        const scrollDuration = 600;

        // Update navigation dots and progress
        function updateNav(index) {
            navDots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });

            // Update progress bar
            const progress = (index / (snapSections.length - 1)) * 100;
            navProgress.style.height = `${progress}%`;

            currentSection = index;
        }

        // Scroll to specific section
        function scrollToSection(index) {
            if (index < 0 || index >= snapSections.length) return;
            if (index === currentSection) return;
            if (isScrolling) return;

            isScrolling = true;
            lastScrollTime = Date.now();
            wheelAccumulator = 0;

            const targetSection = snapSections[index];
            targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            updateNav(index);

            // Reset scrolling flag after animation completes
            clearTimeout(scrollCooldown);
            scrollCooldown = setTimeout(() => {
                isScrolling = false;
                wheelAccumulator = 0;
            }, scrollDuration);
        }

        // Click on nav dots
        navDots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                if (!isScrolling) {
                    scrollToSection(index);
                }
            });
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (isScrolling) return;

            if (e.key === 'ArrowDown' || e.key === 'PageDown') {
                e.preventDefault();
                scrollToSection(currentSection + 1);
            } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
                e.preventDefault();
                scrollToSection(currentSection - 1);
            } else if (e.key === 'Home') {
                e.preventDefault();
                scrollToSection(0);
            } else if (e.key === 'End') {
                e.preventDefault();
                scrollToSection(snapSections.length - 1);
            }
        });

        // Wheel navigation - immediate section change
        snapContainer.addEventListener('wheel', (e) => {
            e.preventDefault();
            if (isScrolling) return;
            
            if (e.deltaY > 0) {
                scrollToSection(currentSection + 1);
            } else if (e.deltaY < 0) {
                scrollToSection(currentSection - 1);
            }
        }, { passive: false });

        // Touch navigation - immediate section change
        let touchStartY = 0;
        let touchEndY = 0;
        const touchThreshold = 30;

        snapContainer.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        snapContainer.addEventListener('touchmove', (e) => {
            if (isScrolling) {
                e.preventDefault();
                return;
            }
            touchEndY = e.touches[0].clientY;
        }, { passive: false });

        snapContainer.addEventListener('touchend', (e) => {
            if (isScrolling) return;
            
            const diff = touchStartY - touchEndY;
            if (Math.abs(diff) > touchThreshold) {
                if (diff > 0) {
                    scrollToSection(currentSection + 1);
                } else {
                    scrollToSection(currentSection - 1);
                }
            }
            touchStartY = 0;
            touchEndY = 0;
        }, { passive: true });

        // Intersection Observer to sync nav with scroll position
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
                    const sectionIndex = parseInt(entry.target.dataset.section);
                    if (!isNaN(sectionIndex) && !isScrolling) {
                        currentSection = sectionIndex;
                        updateNav(sectionIndex);
                    }
                }
            });
        }, {
            root: snapContainer,
            threshold: 0.5
        });

        snapSections.forEach(section => {
            if (section.dataset.section) {
                sectionObserver.observe(section);
            }
        });

        // Safety: reset stuck state
        setInterval(() => {
            if (isScrolling && (Date.now() - lastScrollTime > scrollDuration + 300)) {
                isScrolling = false;
                wheelAccumulator = 0;
            }
        }, 500);

        // Track scroll activity
        snapContainer.addEventListener('scroll', () => {
            lastScrollTime = Date.now();
        }, { passive: true });

        // Update ScrollTrigger to use snap container
        ScrollTrigger.defaults({
            scroller: snapContainer
        });

        // Animate sections on enter
        snapSections.forEach((section, index) => {
            gsap.fromTo(section.querySelectorAll('.reveal-text, .glass-card, h2, h3'),
                {
                    opacity: 0,
                    y: 60,
                    filter: 'blur(10px)'
                },
                {
                    opacity: 1,
                    y: 0,
                    filter: 'blur(0px)',
                    duration: 0.8,
                    stagger: 0.1,
                    ease: 'power3.out',
                    scrollTrigger: {
                        trigger: section,
                        scroller: snapContainer,
                        start: 'top 60%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );
        });

        // Initialize first section
        updateNav(0);

        // Nav links click handler
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetIndex = parseInt(link.dataset.target);
                scrollToSection(targetIndex);
            });
        });

        // Logo click to go home
        document.querySelector('.font-display').parentElement.addEventListener('click', () => {
            scrollToSection(0);
        });
        document.querySelector('.font-display').parentElement.style.cursor = 'pointer';

        // Matrix typewriter effect is now integrated into the particle system

        // ===== PROTOCOL CARDS BLUR EFFECT (MOBILE) =====
        (function() {
            function isMobile() {
                return window.innerWidth <= 768;
            }
            
            function applyBlurEffect() {
                const cards = document.querySelectorAll('#methodology .glass-card');
                if (cards.length === 0) return;
                
                if (!isMobile()) {
                    // Reset classes on desktop
                    cards.forEach(card => {
                        card.classList.remove('blurred', 'active');
                    });
                    return;
                }
                
                const viewportHeight = window.innerHeight;
                const viewportCenter = viewportHeight / 2;
                
                // Find the card closest to viewport center
                let closestCard = null;
                let minDistance = Infinity;
                
                cards.forEach(card => {
                    const rect = card.getBoundingClientRect();
                    const cardCenter = rect.top + rect.height / 2;
                    const distance = Math.abs(cardCenter - viewportCenter);
                    
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestCard = card;
                    }
                });
                
                // Apply classes: only the closest card is visible, others are blurred
                cards.forEach(card => {
                    if (card === closestCard) {
                        card.classList.remove('blurred');
                        card.classList.add('active');
                    } else {
                        card.classList.remove('active');
                        card.classList.add('blurred');
                    }
                });
            }
            
            // Apply blur immediately to all cards except first one on init
            function initBlurState() {
                const cards = document.querySelectorAll('#methodology .glass-card');
                if (!isMobile()) {
                    cards.forEach(card => card.classList.remove('blurred', 'active'));
                    return;
                }
                
                cards.forEach((card, index) => {
                    if (index === 0) {
                        card.classList.remove('blurred');
                        card.classList.add('active');
                    } else {
                        card.classList.remove('active');
                        card.classList.add('blurred');
                    }
                });
            }
            
            // Run on scroll
            const container = document.getElementById('snap-container');
            if (container) {
                container.addEventListener('scroll', applyBlurEffect, { passive: true });
            }
            window.addEventListener('scroll', applyBlurEffect, { passive: true });
            
            // Run on load
            window.addEventListener('load', initBlurState);
            document.addEventListener('DOMContentLoaded', initBlurState);
            
            // Run on resize
            window.addEventListener('resize', applyBlurEffect);
            
            // Initial run immediately
            initBlurState();
            
            // Also run after short delays to catch any timing issues
            setTimeout(initBlurState, 100);
            setTimeout(initBlurState, 500);
            setTimeout(initBlurState, 1000);
        })();
    </script>
</body>

</html>