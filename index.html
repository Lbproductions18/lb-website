<!DOCTYPE html>
<html class="dark" lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Luca Optimization - Deep Tech Optimization 2026</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ffffff",
                        "secondary": "#a1a1aa",
                        "accent": "#e4e4e7",
                        "dark-obsidian": "#030303",
                        "glass-white": "rgba(255, 255, 255, 0.02)",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"],
                        "sans": ["Plus Jakarta Sans", "sans-serif"]
                    }
                },
            },
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: #030303;
            color: #71717a;
            font-family: 'Plus Jakarta Sans', sans-serif;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* Full page scroll snapping */
        body.snap-enabled {
            overflow-y: hidden;
            height: 100vh;
            /* Fallback */
            height: 100dvh;
        }

        .snap-container {
            height: 100vh;
            /* Fallback */
            height: 100dvh;
            overflow-y: hidden;
            scroll-behavior: smooth;
            /* JS controls all scrolling */
        }

        @media (max-width: 768px) {
            /* Mobile: CSS-based snap scrolling */
            .snap-container {
                scroll-snap-type: y mandatory;
                overflow-y: auto !important;
            }
            
            .snap-section {
                scroll-snap-align: start;
                scroll-snap-stop: always;
                height: auto !important;
                min-height: 100vh !important;
                max-height: none !important;
                overflow: visible !important;
            }
            
            /* Protocol section - contains multiple snap points */
            #methodology {
                height: auto !important;
                min-height: auto !important;
                max-height: none !important;
                padding: 0 !important;
                overflow: visible !important;
                scroll-snap-align: none !important;
            }
            
            #methodology > .max-w-7xl {
                padding: 0;
            }
            
            /* Title wrapper - its own snap point */
            #methodology .protocol-title-wrapper {
                height: 100vh;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding-top: 4rem;
                margin-bottom: 0 !important;
                scroll-snap-align: start;
                scroll-snap-stop: always;
            }
            
            /* Protocol cards container - stacked */
            #methodology .protocol-cards-container {
                display: flex;
                flex-direction: column;
                gap: 0 !important;
                padding: 0;
            }
            
            /* Card wrapper - snap point with deck visibility */
            #methodology .protocol-card-wrapper {
                height: auto;
                min-height: auto;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 15vh 1rem;
                scroll-snap-align: center;
                scroll-snap-stop: always;
            }
            
            /* First card needs extra top padding */
            #methodology .protocol-card-wrapper:first-child {
                padding-top: 5vh;
            }
            
            /* Last card needs extra bottom padding */
            #methodology .protocol-card-wrapper:last-child {
                padding-bottom: 20vh;
            }
            
            /* Protocol card - natural size */
            #methodology .protocol-card {
                height: auto !important;
                min-height: auto !important;
                padding: 2rem !important;
                width: 100%;
                max-width: 350px;
                
                /* Card styling */
                border-radius: 1.5rem;
                background: rgba(255, 255, 255, 0.02);
                border: 1px solid rgba(255, 255, 255, 0.1);
                
                /* Blur effect transition */
                transition: filter 0.4s ease, opacity 0.4s ease, transform 0.4s ease !important;
            }
            
            /* Blurred state for inactive cards */
            #methodology .protocol-card.blurred {
                filter: blur(4px) !important;
                opacity: 0.35 !important;
                transform: scale(0.95) !important;
            }
            
            /* Active card - clear and full opacity */
            #methodology .protocol-card.active {
                filter: blur(0px) !important;
                opacity: 1 !important;
                transform: scale(1) !important;
            }
        }

        .snap-section {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            height: 100vh;
            min-height: 100vh;
            max-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .snap-section-auto {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            min-height: auto;
            padding-top: 5vh;
            padding-bottom: 5vh;
        }

        /* Section transition animations */
        .snap-section,
        .snap-section-auto {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .snap-section.transitioning {
            opacity: 0.7;
        }

        ::selection {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ===== SECTION NAVIGATION DOTS ===== */
        .section-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .section-nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }

        .section-nav-dot::before {
            content: attr(data-label);
            position: absolute;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 9px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0);
            white-space: nowrap;
            transition: all 0.3s ease;
            pointer-events: none;
            font-weight: 600;
        }

        .section-nav-dot:hover::before {
            color: rgba(255, 255, 255, 0.6);
            right: 28px;
        }

        .section-nav-dot:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.2);
        }

        .section-nav-dot.active {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.4), 0 0 30px rgba(255, 255, 255, 0.1);
            transform: scale(1.3);
        }

        .section-nav-dot.active::before {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Progress line between dots */
        .section-nav-progress {
            position: absolute;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            width: 1px;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            z-index: -1;
        }

        .section-nav-progress-fill {
            width: 100%;
            background: rgba(255, 255, 255, 0.4);
            transition: height 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @media (max-width: 768px) {
            .section-nav {
                right: 1rem;
                gap: 0.75rem;
            }

            .section-nav-dot {
                width: 8px;
                height: 8px;
            }

            .section-nav-dot::before {
                display: none;
            }
        }

        /* ===== MESH GRADIENT BACKGROUND ===== */
        #mesh-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.8;
        }

        /* ===== PARTICLE NETWORK ===== */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.25;
        }

        /* ===== GLASS CARDS ===== */
        .glass-card {
            backdrop-filter: blur(40px);
            -webkit-backdrop-filter: blur(40px);
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
                    rgba(255, 255, 255, 0.06),
                    transparent 40%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1;
        }

        .glass-card:hover::before {
            opacity: 1;
        }

        /* Border glow effect */
        .glass-card::after {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            background: radial-gradient(400px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
                    rgba(255, 255, 255, 0.3),
                    transparent 40%);
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: -1;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: xor;
            -webkit-mask-composite: xor;
            padding: 1px;
        }

        .glass-card:hover::after {
            opacity: 1;
        }

        .glass-card-thin {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.01);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* ===== GLOWING TEXT ===== */
        .text-glow {
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
        }

        .text-glow-pulse {
            animation: glowPulse 4s ease-in-out infinite;
        }

        /* Intense glow for typewriter word */
        .text-glow-intense {
            animation: glowIntense 5s ease-in-out infinite;
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.55),
                0 0 20px rgba(255, 255, 255, 0.4),
                0 0 40px rgba(255, 255, 255, 0.25),
                0 0 80px rgba(255, 255, 255, 0.15);
        }

        @keyframes glowIntense {
            0%, 100% {
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.55),
                    0 0 20px rgba(255, 255, 255, 0.35),
                    0 0 40px rgba(255, 255, 255, 0.2),
                    0 0 60px rgba(255, 255, 255, 0.1);
            }
            50% {
                text-shadow: 
                    0 0 15px rgba(255, 255, 255, 0.7),
                    0 0 30px rgba(255, 255, 255, 0.55),
                    0 0 60px rgba(255, 255, 255, 0.35),
                    0 0 100px rgba(255, 255, 255, 0.2),
                    0 0 150px rgba(255, 255, 255, 0.1);
            }
        }

        /* Typewriter cursor */
        .typewriter-cursor {
            display: inline-block;
            font-style: normal;
            font-weight: 200;
            opacity: 1;
            animation: cursorBlink 1s ease-in-out infinite;
            margin-left: 2px;
            color: rgba(255, 255, 255, 0.7);
        }

        @keyframes cursorBlink {
            0%, 45% {
                opacity: 1;
            }
            50%, 95% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        /* Protocol card icon animations */
        .icon-diagnostic {
            animation: diagnosticScan 4s ease-in-out infinite;
        }
        
        .icon-diagnostic .data-point {
            animation: dataPulse 2s ease-in-out infinite;
        }
        
        .icon-diagnostic .data-point:nth-child(2) { animation-delay: 0.3s; }
        .icon-diagnostic .data-point:nth-child(3) { animation-delay: 0.6s; }
        .icon-diagnostic .data-point:nth-child(4) { animation-delay: 0.9s; }
        
        @keyframes diagnosticScan {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(3px); }
        }
        
        @keyframes dataPulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.3); }
        }
        
        /* Network spin animation */
        .icon-network {
            animation: networkSpin 20s linear infinite;
            transform-style: preserve-3d;
        }
        
        @keyframes networkSpin {
            0% { transform: rotateY(0deg) rotateX(10deg); }
            100% { transform: rotateY(360deg) rotateX(10deg); }
        }
        
        .icon-network .node {
            animation: nodePulse 3s ease-in-out infinite;
        }
        
        .icon-network .node:nth-child(6) { animation-delay: 0s; }
        .icon-network .node:nth-child(7) { animation-delay: 0.5s; }
        .icon-network .node:nth-child(8) { animation-delay: 1s; }
        .icon-network .node:nth-child(9) { animation-delay: 1.5s; }
        .icon-network .node:nth-child(10) { animation-delay: 2s; }
        
        @keyframes nodePulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.9; }
        }
        
        /* Rocket float animation */
        .icon-rocket {
            animation: rocketFloat 3s ease-in-out infinite;
        }
        
        @keyframes rocketFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }
        
        .icon-rocket .flame {
            animation: flameFlicker 0.5s ease-in-out infinite;
        }
        
        .icon-rocket .flame:nth-child(2) { animation-delay: 0.1s; }
        .icon-rocket .flame:nth-child(3) { animation-delay: 0.2s; }
        .icon-rocket .flame:nth-child(4) { animation-delay: 0.15s; }
        
        @keyframes flameFlicker {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        @keyframes glowPulse {

            0%,
            100% {
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.15);
            }

            50% {
                text-shadow: 0 0 40px rgba(255, 255, 255, 0.3), 0 0 60px rgba(255, 255, 255, 0.1);
            }
        }

        /* ===== REVEAL ANIMATIONS ===== */
        .reveal-text {
            opacity: 0;
            transform: translateY(40px);
            filter: blur(10px);
        }

        .reveal-text.revealed {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* ===== MAGNETIC BUTTON ===== */
        .magnetic-btn {
            position: relative;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .magnetic-btn::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: white;
            border-radius: inherit;
            opacity: 0;
            filter: blur(25px);
            transition: opacity 0.4s ease;
            z-index: -1;
        }

        .magnetic-btn:hover::before {
            opacity: 0.2;
        }

        .magnetic-btn-inner {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* ===== CHART BARS ===== */
        .chart-bar {
            width: 6px;
            border-radius: 9999px;
            background: linear-gradient(to top, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.4));
            transform-origin: bottom;
            transform: scaleY(0);
        }

        .chart-bar.animated {
            animation: growBar 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes growBar {
            to {
                transform: scaleY(1);
            }
        }

        /* ===== PROGRESS CIRCLE ===== */
        .progress-circle {
            stroke-dashoffset: 175;
            transition: stroke-dashoffset 1.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* ===== FLOW LINES ===== */
        .flow-line {
            stroke-dasharray: 200;
            stroke-dashoffset: 200;
        }

        .flow-line.animated {
            animation: drawLine 2s ease forwards;
        }

        @keyframes drawLine {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* ===== COUNTER ===== */
        .counter {
            display: inline-block;
        }

        /* ===== NODE DECORATIONS ===== */
        .node-container {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .node-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .glowing-dot {
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 15px rgba(255, 255, 255, 0.2);
            animation: dotPulse 3s ease-in-out infinite;
        }

        @keyframes dotPulse {

            0%,
            100% {
                box-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 15px rgba(255, 255, 255, 0.2);
            }

            50% {
                box-shadow: 0 0 12px rgba(255, 255, 255, 0.7), 0 0 25px rgba(255, 255, 255, 0.3);
            }
        }

        .node-line {
            width: 1px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);
        }

        /* ===== MATRIX TYPEWRITER TEXT ===== */
        .matrix-text {
            width: 130px;
            height: 16px;
            text-align: center;
            position: relative;
            display: block;
            overflow: hidden;
        }

        .matrix-text::after {
            content: '▌';
            animation: cursorBlink 1s step-end infinite;
            opacity: 0.5;
            margin-left: 2px;
            font-size: 0.9em;
        }

        @keyframes cursorBlink {

            0%,
            45% {
                opacity: 0.5;
            }

            50%,
            100% {
                opacity: 0;
            }
        }

        .matrix-text.typing::after {
            animation: none;
            opacity: 0.7;
        }

        /* ===== SCROLL INDICATOR ===== */
        .scroll-indicator {
            animation: scrollBounce 2s ease-in-out infinite;
        }

        @keyframes scrollBounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(10px);
            }
        }

        /* ===== MATERIAL ICONS ===== */
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 200, 'GRAD' 0, 'opsz' 24;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .glass-card::before,
            .glass-card::after {
                display: none;
            }
        }

        /* ===== MOBILE RESPONSIVE FIXES ===== */
        @media (max-width: 1024px) {
            /* Sections - remove extra padding */
            .snap-section {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            /* Protocol cards - stack properly */
            .snap-section .grid.md\\:grid-cols-3 {
                gap: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            /* Hero section */
            .snap-section h1 {
                font-size: 2.75rem !important;
                line-height: 1.1;
            }
            
            /* Keep min-height for snap to work, but adjust padding */
            .snap-section {
                min-height: 100vh;
                padding-top: 100px;
                padding-bottom: 60px;
                justify-content: flex-start;
            }
            
            /* Hero section - centered content */
            .snap-section:first-of-type {
                min-height: 100vh;
                padding-top: 80px;
                justify-content: center;
            }
            
            /* Stats section - centered vertically */
            #stats {
                min-height: 100vh !important;
                height: 100vh;
                padding: 2rem 1rem !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
                align-items: center !important;
                scroll-snap-align: center;
                scroll-snap-stop: always;
            }
            
            #stats > .max-w-7xl {
                width: 100%;
            }
            
            .snap-section-auto {
                min-height: 100vh;
                padding: 2rem 1rem;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                scroll-snap-align: center;
                scroll-snap-stop: always;
            }
            
            /* Cards - full width and centered */
            .glass-card {
                width: 100%;
                margin-left: auto;
                margin-right: auto;
            }
            
            /* Grid layouts - single column */
            .grid.lg\\:grid-cols-2 {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            /* Target Profile / Out of Scope cards */
            .grid.lg\\:grid-cols-2 > div {
                width: 100%;
                padding: 2rem !important;
            }
            
            /* Stats grid - 2 columns on mobile */
            .grid.md\\:grid-cols-4 {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }
            
            /* Stats numbers smaller */
            .grid.md\\:grid-cols-4 .text-4xl {
                font-size: 2rem;
            }
            
            /* Protocol cards - stacked with space for snap */
            .grid.md\\:grid-cols-3 {
                grid-template-columns: 1fr;
                gap: 0;
            }
            
            /* About section - stack image and text */
            .flex.lg\\:flex-row {
                flex-direction: column;
                gap: 2rem;
            }
            
            /* About image - smaller on mobile */
            .flex.lg\\:flex-row .flex-1:first-child {
                max-width: 280px;
                margin: 0 auto;
            }
            
            /* Footer - less padding */
            footer.snap-section {
                padding-top: 60px;
                padding-bottom: 40px;
            }
            
            footer h2 {
                font-size: 2rem !important;
            }
            
            /* Hide floating nodes on mobile */
            .node-container {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
            }
            
            /* Hide scroll indicator on mobile */
            .scroll-indicator {
                display: none !important;
            }
            
            /* Navigation dots - smaller gap */
            .section-nav {
                right: 0.5rem;
            }
            
            /* Buttons - full width */
            .magnetic-btn {
                width: 100%;
                max-width: 300px;
            }
            
            /* Section titles */
            .text-4xl {
                font-size: 1.75rem;
            }
            
            .text-5xl {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            /* Extra small screens */
            .snap-section h1 {
                font-size: 2.25rem !important;
            }
            
            .glass-card {
                padding: 1.5rem !important;
                border-radius: 1.5rem;
            }
            
            /* Stats - smaller */
            .grid.md\\:grid-cols-4 .text-4xl,
            .grid.md\\:grid-cols-4 .text-5xl {
                font-size: 1.5rem;
            }
            
            .grid.md\\:grid-cols-4 {
                gap: 1rem;
            }
            
            /* Footer button */
            footer .magnetic-btn {
                padding: 1rem 2rem;
                font-size: 0.875rem;
            }
        }
    </style>
</head>

<body class="font-sans snap-enabled">
    <!-- Mesh Gradient Canvas -->
    <canvas id="mesh-canvas"></canvas>

    <!-- Particle Network Canvas -->
    <canvas id="particle-canvas"></canvas>

    <!-- Section Navigation Dots -->
    <div class="section-nav" id="section-nav">
        <div class="section-nav-progress">
            <div class="section-nav-progress-fill" id="nav-progress"></div>
        </div>
        <div class="section-nav-dot active" data-section="0" data-label="Home"></div>
        <div class="section-nav-dot" data-section="1" data-label="About"></div>
        <div class="section-nav-dot" data-section="2" data-label="Protocol"></div>
        <div class="section-nav-dot" data-section="3" data-label="Stats"></div>
        <div class="section-nav-dot" data-section="4" data-label="Filter"></div>
        <div class="section-nav-dot" data-section="5" data-label="Contact"></div>
    </div>

    <!-- Snap Scroll Container -->
    <div class="snap-container" id="snap-container">

        <!-- Navigation -->
        <nav class="fixed top-0 w-full z-[100] px-6 py-6">
            <div class="max-w-7xl mx-auto flex items-center justify-between glass-card-thin px-8 py-3 rounded-2xl">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full border border-white/20 flex items-center justify-center">
                        <div class="w-2 h-2 bg-white rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-lg font-display font-medium tracking-tight text-white">ACTION<span
                            class="opacity-40">.FLOW</span></span>
                </div>
                <div class="hidden md:flex items-center gap-8">
                    <a class="nav-link text-xs tracking-widest uppercase font-medium text-zinc-500 hover:text-white transition-colors cursor-pointer"
                        data-target="1">Protocol</a>
                    <a class="nav-link text-xs tracking-widest uppercase font-medium text-zinc-500 hover:text-white transition-colors cursor-pointer"
                        data-target="3">Filter</a>
                    <a class="nav-link text-xs tracking-widest uppercase font-medium text-zinc-500 hover:text-white transition-colors cursor-pointer"
                        data-target="4">About</a>
                    <button
                        class="magnetic-btn nav-link text-xs tracking-widest uppercase bg-white text-black px-6 py-2.5 rounded-full font-bold"
                        data-target="5">
                        <span class="magnetic-btn-inner">Access Session</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section
            class="snap-section relative min-h-screen flex flex-col items-center justify-center pt-20 px-6 overflow-x-clip overflow-y-hidden"
            data-section="0">
            <!-- Particle labels with typewriter effect are rendered on the canvas -->

            <div class="w-full max-w-5xl mx-auto text-center relative z-10 space-y-6 md:space-y-12 px-4">
                <div
                    class="reveal-text inline-flex items-center gap-1.5 md:gap-2 px-3 py-1.5 md:px-4 md:py-2 rounded-full border border-white/10 bg-white/5 text-[8px] md:text-[10px] tracking-[0.15em] md:tracking-[0.3em] text-white/60 uppercase">
                    <span class="w-1.5 h-1.5 md:w-1 md:h-1 bg-white rounded-full animate-ping"></span>
                    Clarté opérationnelle pour dirigeants de PME
                </div>

                <h1 class="reveal-text text-white text-[1.15rem] sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-display font-light leading-[1.1] tracking-tight whitespace-nowrap"
                    style="transition-delay: 0.1s">
                    Un clic vers <span id="typewriter-article">la </span><span id="typewriter-word" class="italic font-normal text-glow-intense"></span><span id="typewriter-cursor" class="typewriter-cursor">|</span>
                </h1>

                <p class="reveal-text text-sm md:text-lg text-zinc-500 max-w-2xl mx-auto leading-relaxed font-light"
                    style="transition-delay: 0.2s">
                    J'aide les PME à structurer et simplifier leurs processus pour reprendre le contrôle, à l'aide de la technologie et de l'intelligence artificielle.
                </p>

                <div class="reveal-text flex flex-col sm:flex-row items-center justify-center gap-4 pt-4"
                    style="transition-delay: 0.3s">
                    <button
                        class="px-10 py-4 rounded-full font-semibold bg-white text-black w-full sm:w-auto shadow-[0_0_40px_rgba(255,255,255,0.1)] hover:shadow-[0_0_60px_rgba(255,255,255,0.2)] hover:scale-[1.02] transition-all duration-300 text-base">
                        Démarrer mon audit gratuit
                    </button>
                    <button
                        class="px-8 py-4 rounded-full font-normal text-sm bg-transparent border border-white/15 text-white/70 hover:text-white hover:border-white/30 transition-all duration-300 w-full sm:w-auto">
                        Découvrir le protocole
                    </button>
                </div>
            </div>

        </section>

        <!-- About Section -->
        <section class="snap-section overflow-hidden" id="about" data-section="1">
            <div class="max-w-7xl mx-auto px-6 h-full flex items-center">
                <div class="flex flex-col lg:flex-row gap-6 lg:gap-16 items-center w-full py-8">
                    <!-- Image visible on all screens -->
                    <div class="flex-shrink-0 relative w-full max-w-[200px] lg:max-w-[350px] mx-auto lg:mx-0">
                        <div class="absolute -inset-10 bg-white/[0.03] blur-[120px] rounded-full"></div>
                        <div class="relative rounded-[2rem] overflow-hidden aspect-[4/5] shadow-2xl"
                            style="background-image: url('https://i.goopics.net/sq43d6.jpg'); background-size: cover; background-position: top center; border: none;">
                            <div
                                class="absolute inset-0 bg-gradient-to-t from-[#030303] via-transparent to-transparent">
                            </div>
                            <div class="absolute bottom-4 left-4 lg:bottom-8 lg:left-8 glass-card-thin p-3 lg:p-5 rounded-xl">
                                <span class="text-white font-display font-medium block text-xs lg:text-base">LUCA.</span>
                                <span class="text-[7px] lg:text-[10px] text-white/40 tracking-[0.2em] uppercase font-bold">Operational Architect</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex-1 space-y-4 lg:space-y-8">
                        <h2 class="reveal-text text-2xl md:text-4xl lg:text-5xl font-display font-light text-white leading-tight">
                            Des opérations plus simples grâce à l'intelligence artificielle.</h2>
                        <p class="reveal-text text-sm lg:text-lg text-zinc-500 leading-relaxed font-light"
                            style="transition-delay: 0.1s">
                            Plus qu'un consultant, je fais le lien entre la <span class="text-white font-medium">réalité du terrain</span> et les nouveaux systèmes technologiques pour réduire les pertes de temps, les tâches répétitives et les frictions opérationnelles.
                        </p>
                        <div class="grid grid-cols-2 gap-4 lg:gap-6">
                            <div class="reveal-text glass-card p-4 lg:p-6 rounded-2xl border-l-2 border-white/20 tilt-card"
                                style="transition-delay: 0.2s">
                                <span class="material-symbols-outlined text-white/60 mb-2 text-xl lg:text-2xl">auto_awesome</span>
                                <h4 class="text-white font-medium mb-1 text-sm lg:text-base">Automatisation intelligente</h4>
                                <p class="text-[10px] lg:text-xs text-zinc-600 leading-relaxed">J'automatise ce qui fait réellement perdre de l'argent.</p>
                            </div>
                            <div class="reveal-text glass-card p-4 lg:p-6 rounded-2xl border-l-2 border-white/20 tilt-card"
                                style="transition-delay: 0.3s">
                                <span class="material-symbols-outlined text-white/60 mb-2 text-xl lg:text-2xl">insights</span>
                                <h4 class="text-white font-medium mb-1 text-sm lg:text-base">Décisions guidées par la réalité</h4>
                                <p class="text-[10px] lg:text-xs text-zinc-600 leading-relaxed">La technologie suit les opérations, jamais l'inverse.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Methodology Section -->
        <section class="snap-section pt-24 pb-12 md:py-32 relative" id="methodology" data-section="2">
            <div class="max-w-7xl mx-auto px-6">
                <!-- Title - has its own snap on mobile -->
                <div class="protocol-title-wrapper mb-8 md:mb-24 text-center">
                    <h2 class="reveal-text text-2xl md:text-4xl font-display font-light text-white mb-4">Le Protocole Action.Flow</h2>
                    <div class="reveal-text w-24 h-px bg-white/20 mx-auto" style="transition-delay: 0.1s"></div>
                </div>

                <div class="protocol-cards-container grid grid-cols-1 md:grid-cols-3 gap-12">
                    <!-- Card 1 Wrapper -->
                    <div class="protocol-card-wrapper">
                        <div class="glass-card protocol-card p-10 rounded-3xl space-y-8 relative group tilt-card">
                            <div class="flex justify-between items-center">
                                <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase">Phase 01</span>
                                <span
                                    class="material-symbols-outlined text-white/30 group-hover:text-white transition-colors">query_stats</span>
                            </div>
                            <div class="space-y-4">
                                <h3 class="text-xl font-medium text-white">Diagnostic des opérations</h3>
                                <p class="text-sm text-zinc-600 leading-relaxed font-light">Je prends le temps de comprendre comment l'entreprise fonctionne aujourd'hui. J'identifie où le temps, l'argent et l'énergie se perdent.</p>
                            </div>
                            <!-- Diagnostic Icon: Magnifying glass with data points -->
                            <div class="h-16 flex items-center pt-4">
                                <svg class="w-16 h-16 icon-diagnostic" viewBox="0 0 64 64" fill="none">
                                    <!-- Magnifying glass -->
                                    <circle cx="26" cy="26" r="14" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" fill="none"/>
                                    <line x1="36" y1="36" x2="48" y2="48" stroke="rgba(255,255,255,0.3)" stroke-width="2" stroke-linecap="round"/>
                                    <!-- Data points inside (animated) -->
                                    <circle class="data-point" cx="20" cy="22" r="2" fill="rgba(255,255,255,0.5)"/>
                                    <circle class="data-point" cx="26" cy="30" r="2" fill="rgba(255,255,255,0.4)"/>
                                    <circle class="data-point" cx="32" cy="24" r="2" fill="rgba(255,255,255,0.6)"/>
                                    <circle class="data-point" cx="24" cy="18" r="1.5" fill="rgba(255,255,255,0.3)"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2 Wrapper -->
                    <div class="protocol-card-wrapper">
                        <div class="glass-card protocol-card p-10 rounded-3xl space-y-8 relative group tilt-card">
                            <div class="flex justify-between items-center">
                                <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase">Phase 02</span>
                                <span
                                    class="material-symbols-outlined text-white/30 group-hover:text-white transition-colors">hub</span>
                            </div>
                            <div class="space-y-4">
                                <h3 class="text-xl font-medium text-white">Conception du système</h3>
                                <p class="text-sm text-zinc-600 leading-relaxed font-light">Je conçois des systèmes sur mesure pour simplifier les processus. L'automatisation et l'IA sont utilisées seulement là où ça fait une vraie différence.</p>
                            </div>
                            <!-- Conception Icon: Connected nodes/architecture (3D spinning) -->
                            <div class="h-16 flex items-center pt-4" style="perspective: 200px;">
                                <svg class="w-16 h-16 icon-network" viewBox="0 0 64 64" fill="none">
                                    <!-- Connection lines -->
                                    <line x1="16" y1="32" x2="32" y2="16" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <line x1="32" y1="16" x2="48" y2="32" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <line x1="16" y1="32" x2="32" y2="48" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <line x1="32" y1="48" x2="48" y2="32" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <line x1="32" y1="16" x2="32" y2="48" stroke="rgba(255,255,255,0.15)" stroke-width="1"/>
                                    <!-- Nodes (animated pulse) -->
                                    <circle class="node" cx="32" cy="16" r="4" fill="rgba(255,255,255,0.5)" />
                                    <circle class="node" cx="16" cy="32" r="4" fill="rgba(255,255,255,0.4)" />
                                    <circle class="node" cx="48" cy="32" r="4" fill="rgba(255,255,255,0.4)" />
                                    <circle class="node" cx="32" cy="48" r="4" fill="rgba(255,255,255,0.5)" />
                                    <circle class="node" cx="32" cy="32" r="5" fill="rgba(255,255,255,0.6)" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Card 3 Wrapper -->
                    <div class="protocol-card-wrapper">
                        <div class="glass-card protocol-card p-10 rounded-3xl space-y-8 relative group tilt-card">
                            <div class="flex justify-between items-center">
                                <span class="text-[10px] tracking-[0.4em] text-white/40 uppercase">Phase 03</span>
                                <span
                                    class="material-symbols-outlined text-white/30 group-hover:text-white transition-colors">speed</span>
                            </div>
                            <div class="space-y-4">
                                <h3 class="text-xl font-medium text-white">Implémentation</h3>
                                <p class="text-sm text-zinc-600 leading-relaxed font-light">Je mets les systèmes en place directement dans l'entreprise. Tout est pensé pour être utilisé facilement, dès le départ.</p>
                            </div>
                            <!-- Implémentation Icon: Rocket launch (floating) -->
                            <div class="h-16 flex items-center pt-4">
                                <svg class="w-16 h-16 icon-rocket" viewBox="0 0 64 64" fill="none">
                                    <!-- Rocket body -->
                                    <path d="M32 8 L40 28 L36 32 L36 44 L32 48 L28 44 L28 32 L24 28 Z" 
                                          fill="rgba(255,255,255,0.4)" stroke="rgba(255,255,255,0.5)" stroke-width="1"/>
                                    <!-- Rocket window -->
                                    <circle cx="32" cy="20" r="3" fill="rgba(255,255,255,0.6)"/>
                                    <!-- Flames/particles (animated flicker) -->
                                    <circle class="flame" cx="32" cy="54" r="2" fill="rgba(255,255,255,0.3)"/>
                                    <circle class="flame" cx="28" cy="56" r="1.5" fill="rgba(255,255,255,0.2)"/>
                                    <circle class="flame" cx="36" cy="56" r="1.5" fill="rgba(255,255,255,0.2)"/>
                                    <circle class="flame" cx="32" cy="58" r="1" fill="rgba(255,255,255,0.15)"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="snap-section py-20 relative overflow-hidden border-y border-white/[0.05] flex items-center"
            id="stats" data-section="3">
            <div class="max-w-7xl mx-auto px-6">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-12 text-center">
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="40" data-prefix="+" data-suffix="%">0%</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">Productivity</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="150" data-suffix="h">0h</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">Saved Monthly</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="6" data-suffix="m">0m</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">ROI Guarantee</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-4xl md:text-5xl font-display font-light text-white text-glow">
                            <span class="counter" data-target="30" data-suffix="+">0+</span>
                        </div>
                        <div class="text-[10px] tracking-[0.3em] uppercase text-white/40">Elite Clients</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Expertise Section -->
        <section class="snap-section py-12 md:py-32" id="expertise" data-section="4">
            <div class="max-w-7xl mx-auto px-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- Target Profile -->
                    <div class="glass-card rounded-[2.5rem] p-12 md:p-16 relative overflow-hidden tilt-card">
                        <div
                            class="absolute -top-20 -right-20 w-60 h-60 bg-white/[0.03] blur-[100px] rounded-full pointer-events-none">
                        </div>
                        <div class="absolute top-0 right-0 p-8 opacity-20">
                            <span class="material-symbols-outlined !text-6xl">check_circle</span>
                        </div>
                        <h3
                            class="reveal-text text-2xl font-display font-medium text-white mb-12 flex items-center gap-4">
                            <span class="w-8 h-px bg-white/30"></span> Target Profile
                        </h3>
                        <div class="space-y-10">
                            <div class="reveal-text flex items-start gap-6" style="transition-delay: 0.1s">
                                <div class="text-2xl font-display font-light text-white text-glow">+10</div>
                                <div>
                                    <h4 class="text-white font-medium">Headcount Threshold</h4>
                                    <p class="text-sm text-zinc-600 mt-1">Structured teams ready for scale-up
                                        automation.</p>
                                </div>
                            </div>
                            <div class="reveal-text flex items-start gap-6" style="transition-delay: 0.2s">
                                <div class="text-2xl font-display font-light text-white text-glow">+1M$</div>
                                <div>
                                    <h4 class="text-white font-medium">Annual Revenue</h4>
                                    <p class="text-sm text-zinc-600 mt-1">High-volume operations requiring precision
                                        engines.</p>
                                </div>
                            </div>
                            <div class="reveal-text flex items-start gap-6" style="transition-delay: 0.3s">
                                <div class="text-2xl font-display font-light text-white text-glow">Long</div>
                                <div>
                                    <h4 class="text-white font-medium">Growth Vision</h4>
                                    <p class="text-sm text-zinc-600 mt-1">Commitment to building a sustainable tech
                                        infrastructure.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Out of Scope -->
                    <div class="glass-card rounded-[2.5rem] p-12 md:p-16 opacity-50 relative overflow-hidden tilt-card">
                        <div
                            class="absolute -top-20 -left-20 w-40 h-40 bg-white/[0.02] blur-[80px] rounded-full pointer-events-none">
                        </div>
                        <div class="absolute top-0 right-0 p-8 opacity-20">
                            <span class="material-symbols-outlined !text-6xl text-red-500/50">block</span>
                        </div>
                        <h3
                            class="reveal-text text-2xl font-display font-medium text-white/60 mb-12 flex items-center gap-4">
                            <span class="w-8 h-px bg-white/10"></span> Out of Scope
                        </h3>
                        <ul class="space-y-8">
                            <li class="reveal-text flex items-center gap-4 text-zinc-600"
                                style="transition-delay: 0.1s">
                                <span class="material-symbols-outlined text-xs">close</span>
                                Early-stage startups (pre-seed)
                            </li>
                            <li class="reveal-text flex items-center gap-4 text-zinc-600"
                                style="transition-delay: 0.2s">
                                <span class="material-symbols-outlined text-xs">close</span>
                                One-off "quick-fix" requests
                            </li>
                            <li class="reveal-text flex items-center gap-4 text-zinc-600"
                                style="transition-delay: 0.3s">
                                <span class="material-symbols-outlined text-xs">close</span>
                                Budgets under 10k€ deployment
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer CTA -->
        <footer class="snap-section py-40 relative" data-section="5">
            <div class="max-w-4xl mx-auto px-6 relative z-10 text-center space-y-16">
                <div class="space-y-6">
                    <h2 class="reveal-text text-5xl md:text-7xl font-display font-light text-white tracking-tight">Ready
                        for the next <span class="italic font-normal opacity-80 text-glow-pulse">level?</span></h2>
                    <p class="reveal-text text-lg text-zinc-600 font-light max-w-xl mx-auto"
                        style="transition-delay: 0.1s">
                        Secure a 45-minute discovery session. Walk away with a blueprint for your automation potential.
                    </p>
                </div>
                <button
                    class="reveal-text magnetic-btn px-16 py-6 bg-white text-black text-lg font-bold rounded-full shadow-[0_0_60px_rgba(255,255,255,0.15)]"
                    style="transition-delay: 0.2s">
                    <span class="magnetic-btn-inner">Book Discovery Session</span>
                </button>
                <div
                    class="pt-32 flex flex-col md:flex-row justify-between items-center gap-10 border-t border-white/[0.05]">
                    <div class="flex items-center gap-3">
                        <div class="w-6 h-6 rounded-full border border-white/20 flex items-center justify-center">
                            <div class="w-1.5 h-1.5 bg-white rounded-full"></div>
                        </div>
                        <span class="text-[10px] tracking-[0.4em] font-bold text-white uppercase">Luca Optimization
                            Boutique © 2026</span>
                    </div>
                    <div class="flex gap-8 text-[10px] tracking-[0.3em] font-bold uppercase text-zinc-600">
                        <a class="hover:text-white transition-colors" href="#">Legal</a>
                        <a class="hover:text-white transition-colors" href="#">LinkedIn</a>
                        <a class="hover:text-white transition-colors" href="#">Privacy</a>
                    </div>
                </div>
            </div>
        </footer>

    </div><!-- End snap-container -->

    <script>
        // ===== MESH GRADIENT BACKGROUND =====
        const meshCanvas = document.getElementById('mesh-canvas');
        const meshCtx = meshCanvas.getContext('2d');
        let mouseX = 0.5;
        let mouseY = 0.5;
        let targetMouseX = 0.5;
        let targetMouseY = 0.5;

        function resizeMeshCanvas() {
            meshCanvas.width = window.innerWidth;
            meshCanvas.height = window.innerHeight;
        }
        resizeMeshCanvas();
        window.addEventListener('resize', resizeMeshCanvas);

        // Aurora Mists - Pure white/grey tones
        const orbs = [
            { x: 0.15, y: 0.1, vx: 0.0001, vy: 0.00008, radius: 0.7, color: 'rgba(255, 255, 255, 0.04)' },
            { x: 0.85, y: 0.2, vx: -0.00008, vy: 0.0001, radius: 0.6, color: 'rgba(255, 255, 255, 0.03)' },
            { x: 0.5, y: 0.6, vx: 0.00008, vy: -0.00008, radius: 0.65, color: 'rgba(255, 255, 255, 0.035)' },
            { x: 0.2, y: 0.85, vx: 0.0001, vy: 0.00006, radius: 0.5, color: 'rgba(255, 255, 255, 0.03)' },
            { x: 0.7, y: 0.7, vx: -0.00006, vy: -0.0001, radius: 0.45, color: 'rgba(255, 255, 255, 0.025)' },
        ];

        function drawMeshGradient() {
            meshCtx.fillStyle = '#030303';
            meshCtx.fillRect(0, 0, meshCanvas.width, meshCanvas.height);

            // Smooth mouse tracking
            mouseX += (targetMouseX - mouseX) * 0.02;
            mouseY += (targetMouseY - mouseY) * 0.02;

            orbs.forEach((orb, i) => {
                // Organic movement
                orb.x += orb.vx + Math.sin(Date.now() * 0.0001 + i) * 0.0001;
                orb.y += orb.vy + Math.cos(Date.now() * 0.00012 + i) * 0.0001;

                // Mouse influence
                const dx = mouseX - orb.x;
                const dy = mouseY - orb.y;
                orb.x += dx * 0.001;
                orb.y += dy * 0.001;

                // Bounce at edges
                if (orb.x < 0 || orb.x > 1) orb.vx *= -1;
                if (orb.y < 0 || orb.y > 1) orb.vy *= -1;
                orb.x = Math.max(0, Math.min(1, orb.x));
                orb.y = Math.max(0, Math.min(1, orb.y));

                // Draw gradient
                const gradient = meshCtx.createRadialGradient(
                    orb.x * meshCanvas.width, orb.y * meshCanvas.height, 0,
                    orb.x * meshCanvas.width, orb.y * meshCanvas.height, orb.radius * Math.max(meshCanvas.width, meshCanvas.height)
                );
                gradient.addColorStop(0, orb.color);
                gradient.addColorStop(1, 'transparent');
                meshCtx.fillStyle = gradient;
                meshCtx.fillRect(0, 0, meshCanvas.width, meshCanvas.height);
            });

            requestAnimationFrame(drawMeshGradient);
        }
        drawMeshGradient();

        // ===== PARTICLE NETWORK (Floating Node Network + Star-Dust + Scanning) =====
        const particleCanvas = document.getElementById('particle-canvas');
        const particleCtx = particleCanvas.getContext('2d');
        
        // Track mouse for magnetic effect
        let particleMouseX = window.innerWidth / 2;
        let particleMouseY = window.innerHeight / 2;
        document.addEventListener('mousemove', (e) => {
            particleMouseX = e.clientX;
            particleMouseY = e.clientY;
        });

        function resizeParticleCanvas() {
            particleCanvas.width = window.innerWidth;
            particleCanvas.height = window.innerHeight;
        }
        resizeParticleCanvas();
        window.addEventListener('resize', resizeParticleCanvas);

        // ===== 1. FLOATING NODE NETWORK (Big bubbles 4-8px with lines) =====
        const nodes = [];
        const nodeCount = 25;
        const connectionDistance = 200;

        // Data words for node labels
        const dataWords = [
            'SYNC', 'DATA', 'FLOW', 'NODE', 'HASH',
            'TASK', 'LOAD', 'PIPE', 'CORE', 'FLUX',
            'SCAN', 'INIT', 'PROC', 'EXEC', 'LINK'
        ];

        class Node {
            constructor(index) {
                this.x = Math.random() * particleCanvas.width;
                this.y = Math.random() * particleCanvas.height;
                this.baseX = this.x;
                this.baseY = this.y;
                this.vx = (Math.random() - 0.5) * 0.3;
                this.vy = (Math.random() - 0.5) * 0.3;
                this.radius = 2 + Math.random() * 2; // 2-4px
                this.depth = Math.random();
                this.label = dataWords[index % dataWords.length];
                this.hasLabel = Math.random() > 0.6;
                this.floatOffset = Math.random() * Math.PI * 2;
            }

            update(scrollY) {
                // Slow floating movement
                this.x += this.vx;
                this.y += this.vy;
                
                // Add gentle float effect
                this.x += Math.sin(Date.now() * 0.0005 + this.floatOffset) * 0.2;
                this.y += Math.cos(Date.now() * 0.0004 + this.floatOffset) * 0.2;

                // Magnetic attraction to mouse (desktop only)
                const isMobileDevice = window.innerWidth <= 768;
                if (!isMobileDevice) {
                    const dx = particleMouseX - this.x;
                    const dy = particleMouseY - this.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < 150) {
                        const force = (150 - dist) / 150 * 0.02;
                        this.x += dx * force;
                        this.y += dy * force;
                    }
                }

                // Parallax
                const parallaxOffset = scrollY * this.depth * 0.1;

                // Bounce at edges with padding
                if (this.x < 50) this.vx = Math.abs(this.vx);
                if (this.x > particleCanvas.width - 50) this.vx = -Math.abs(this.vx);
                if (this.y < 50) this.vy = Math.abs(this.vy);
                if (this.y > particleCanvas.height - 50) this.vy = -Math.abs(this.vy);

                return parallaxOffset;
            }

            draw(parallaxOffset, isNearMouse) {
                const y = this.y - parallaxOffset;
                const glow = isNearMouse ? 0.8 : 0.4;
                
                // Draw bubble with subtle glow
                particleCtx.beginPath();
                particleCtx.arc(this.x, y, this.radius, 0, Math.PI * 2);
                particleCtx.fillStyle = `rgba(255, 255, 255, ${glow})`;
                particleCtx.fill();
                
                // Outer glow ring
                particleCtx.beginPath();
                particleCtx.arc(this.x, y, this.radius + 2, 0, Math.PI * 2);
                particleCtx.strokeStyle = `rgba(255, 255, 255, ${glow * 0.3})`;
                particleCtx.lineWidth = 1;
                particleCtx.stroke();
                
                // Label below node
                if (this.hasLabel) {
                    particleCtx.font = '8px monospace';
                    particleCtx.textAlign = 'center';
                    particleCtx.fillStyle = `rgba(255, 255, 255, ${glow * 0.5})`;
                    particleCtx.fillText(this.label, this.x, y + this.radius + 12);
                }
            }
        }

        for (let i = 0; i < nodeCount; i++) {
            nodes.push(new Node(i));
        }

        // ===== 2. STAR-DUST (Tiny particles 1-2px, some twinkle) =====
        const starDust = [];
        const starCount = 80;

        class StarParticle {
            constructor() {
                this.x = Math.random() * particleCanvas.width;
                this.y = Math.random() * particleCanvas.height;
                this.radius = 0.5 + Math.random() * 1.5; // 1-2px
                this.depth = Math.random();
                this.twinkle = Math.random() > 0.85; // 15% twinkle
                this.twinkleSpeed = 0.002 + Math.random() * 0.003;
                this.twinkleOffset = Math.random() * Math.PI * 2;
                // Different directions for 3D parallax effect
                this.vy = (Math.random() - 0.5) * 0.15; // Some up, some down
            }

            update(scrollY) {
                this.y += this.vy;
                if (this.y < 0) this.y = particleCanvas.height;
                if (this.y > particleCanvas.height) this.y = 0;
                return scrollY * this.depth * 0.15;
            }

            draw(parallaxOffset) {
                const y = this.y - parallaxOffset;
                let opacity = 0.15 + this.depth * 0.2;
                
                // Twinkle effect
                if (this.twinkle) {
                    opacity *= 0.5 + Math.sin(Date.now() * this.twinkleSpeed + this.twinkleOffset) * 0.5;
                }
                
                particleCtx.beginPath();
                particleCtx.arc(this.x, y, this.radius, 0, Math.PI * 2);
                particleCtx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
                particleCtx.fill();
            }
        }

        for (let i = 0; i < starCount; i++) {
            starDust.push(new StarParticle());
        }


        // ===== MAIN DRAW LOOP =====
        function drawParticles() {
            particleCtx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);
            const container = document.getElementById('snap-container');
            const scrollY = container ? container.scrollTop : window.scrollY;

            // Draw star-dust first (background)
            starDust.forEach(star => {
                const parallax = star.update(scrollY);
                star.draw(parallax);
            });

            // Draw node connections (some dashed for data flow effect)
            for (let i = 0; i < nodes.length; i++) {
                const parallaxI = nodes[i].update(scrollY);
                for (let j = i + 1; j < nodes.length; j++) {
                    const dx = nodes[i].x - nodes[j].x;
                    const dy = (nodes[i].y - parallaxI) - (nodes[j].y - nodes[j].depth * scrollY * 0.1);
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < connectionDistance) {
                        const opacity = (1 - distance / connectionDistance) * 0.25;
                        
                        // Check if mouse is near this connection
                        const midX = (nodes[i].x + nodes[j].x) / 2;
                        const midY = (nodes[i].y + nodes[j].y) / 2;
                        const mouseDist = Math.sqrt((particleMouseX - midX) ** 2 + (particleMouseY - midY) ** 2);
                        const brightness = mouseDist < 100 ? opacity * 2 : opacity;
                        
                        particleCtx.beginPath();
                        particleCtx.moveTo(nodes[i].x, nodes[i].y - parallaxI);
                        const parallaxJ = nodes[j].depth * scrollY * 0.1;
                        particleCtx.lineTo(nodes[j].x, nodes[j].y - parallaxJ);
                        
                        // Some lines are dashed (30% chance)
                        if ((i + j) % 3 === 0) {
                            particleCtx.setLineDash([4, 4]);
                        } else {
                            particleCtx.setLineDash([]);
                        }
                        
                        particleCtx.strokeStyle = `rgba(255, 255, 255, ${brightness})`;
                        particleCtx.lineWidth = 1;
                        particleCtx.stroke();
                        particleCtx.setLineDash([]);
                    }
                }
            }

            // Draw nodes
            nodes.forEach(node => {
                const parallax = node.depth * scrollY * 0.1;
                const mouseDist = Math.sqrt((particleMouseX - node.x) ** 2 + (particleMouseY - node.y) ** 2);
                node.draw(parallax, mouseDist < 100);
            });

            requestAnimationFrame(drawParticles);
        }
        drawParticles();

        // ===== MOUSE TRACKING =====
        document.addEventListener('mousemove', (e) => {
            targetMouseX = e.clientX / window.innerWidth;
            targetMouseY = e.clientY / window.innerHeight;
        });

        // ===== TILT CARDS (light effect only, no rotation) =====
        const tiltCards = document.querySelectorAll('.tilt-card');
        tiltCards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Only track mouse for light effect, no rotation
                card.style.setProperty('--mouse-x', `${(x / rect.width) * 100}%`);
                card.style.setProperty('--mouse-y', `${(y / rect.height) * 100}%`);
            });
        });

        // ===== GLASS CARDS MOUSE TRACKING =====
        const glassCards = document.querySelectorAll('.glass-card');
        glassCards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.setProperty('--mouse-x', `${(x / rect.width) * 100}%`);
                card.style.setProperty('--mouse-y', `${(y / rect.height) * 100}%`);
            });
        });

        // ===== MAGNETIC BUTTONS =====
        const magneticBtns = document.querySelectorAll('.magnetic-btn');
        magneticBtns.forEach(btn => {
            btn.addEventListener('mousemove', (e) => {
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                const inner = btn.querySelector('.magnetic-btn-inner');

                btn.style.transform = `translate(${x * 0.1}px, ${y * 0.1}px)`;
                if (inner) inner.style.transform = `translate(${x * 0.05}px, ${y * 0.05}px)`;
            });

            btn.addEventListener('mouseleave', () => {
                btn.style.transform = 'translate(0, 0)';
                const inner = btn.querySelector('.magnetic-btn-inner');
                if (inner) inner.style.transform = 'translate(0, 0)';
            });
        });

        // ===== SCROLL REVEAL =====
        const revealElements = document.querySelectorAll('.reveal-text');
        const nodeContainers = document.querySelectorAll('.node-container');

        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = entry.target.style.transitionDelay || '0s';
                    setTimeout(() => {
                        entry.target.classList.add('revealed');
                    }, parseFloat(delay) * 1000);
                }
            });
        }, { threshold: 0.1 });

        revealElements.forEach(el => revealObserver.observe(el));

        // Node containers - make visible immediately with stagger
        nodeContainers.forEach((el, i) => {
            setTimeout(() => {
                el.classList.add('visible');
            }, 300 + (i * 150));
        });

        // ===== ANIMATED COUNTERS =====
        const counters = document.querySelectorAll('.counter');
        const counterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
                    entry.target.classList.add('counted');
                    const target = parseInt(entry.target.dataset.target);
                    const prefix = entry.target.dataset.prefix || '';
                    const suffix = entry.target.dataset.suffix || '';
                    let current = 0;
                    const increment = target / 60;
                    const updateCounter = () => {
                        current += increment;
                        if (current < target) {
                            entry.target.textContent = prefix + Math.floor(current) + suffix;
                            requestAnimationFrame(updateCounter);
                        } else {
                            entry.target.textContent = prefix + target + suffix;
                        }
                    };
                    updateCounter();
                }
            });
        }, { threshold: 0.5 });

        counters.forEach(el => counterObserver.observe(el));

        // ===== CHART BARS ANIMATION =====
        const chartBars = document.querySelectorAll('.chart-bar');
        const chartObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const delay = entry.target.dataset.delay || 0;
                    setTimeout(() => {
                        entry.target.classList.add('animated');
                    }, delay * 1000);
                }
            });
        }, { threshold: 0.5 });

        chartBars.forEach(el => chartObserver.observe(el));

        // ===== PROGRESS CIRCLES =====
        const progressCircles = document.querySelectorAll('.progress-circle');
        const circleObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
                    entry.target.classList.add('animated');
                    const target = parseInt(entry.target.dataset.target);
                    const circumference = 175;
                    const offset = circumference - (target / 100) * circumference;
                    entry.target.style.strokeDashoffset = offset;
                }
            });
        }, { threshold: 0.5 });

        progressCircles.forEach(el => circleObserver.observe(el));

        // ===== FLOW LINES =====
        const flowLines = document.querySelectorAll('.flow-line');
        const flowObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animated');
                }
            });
        }, { threshold: 0.5 });

        flowLines.forEach(el => flowObserver.observe(el));

        // ===== GSAP SCROLL ANIMATIONS =====
        gsap.registerPlugin(ScrollTrigger);

        // ===== FULL PAGE SNAP SCROLLING =====
        const snapContainer = document.getElementById('snap-container');
        const snapSections = document.querySelectorAll('.snap-section');
        const navDots = document.querySelectorAll('.section-nav-dot');
        const navProgress = document.getElementById('nav-progress');
        let currentSection = 0;
        let isScrolling = false;
        let scrollCooldown = null;
        let wheelAccumulator = 0;
        let lastScrollTime = Date.now();
        const wheelThreshold = 80;
        const scrollDuration = 600;

        // Update navigation dots and progress
        function updateNav(index) {
            navDots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });

            // Update progress bar
            const progress = (index / (snapSections.length - 1)) * 100;
            navProgress.style.height = `${progress}%`;

            currentSection = index;
        }

        // Scroll to specific section
        function scrollToSection(index) {
            if (index < 0 || index >= snapSections.length) return;
            if (index === currentSection) return;
            if (isScrolling) return;

            isScrolling = true;
            lastScrollTime = Date.now();
            wheelAccumulator = 0;

            const targetSection = snapSections[index];
            targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            updateNav(index);

            // Reset scrolling flag after animation completes
            clearTimeout(scrollCooldown);
            scrollCooldown = setTimeout(() => {
                isScrolling = false;
                wheelAccumulator = 0;
            }, scrollDuration);
        }

        // Click on nav dots
        navDots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                if (!isScrolling) {
                    scrollToSection(index);
                }
            });
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (isScrolling) return;

            if (e.key === 'ArrowDown' || e.key === 'PageDown') {
                e.preventDefault();
                scrollToSection(currentSection + 1);
            } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
                e.preventDefault();
                scrollToSection(currentSection - 1);
            } else if (e.key === 'Home') {
                e.preventDefault();
                scrollToSection(0);
            } else if (e.key === 'End') {
                e.preventDefault();
                scrollToSection(snapSections.length - 1);
            }
        });

        // Wheel navigation - immediate section change (desktop only)
        snapContainer.addEventListener('wheel', (e) => {
            // On mobile, let CSS scroll-snap handle it
            if (window.innerWidth <= 768) return;
            
            e.preventDefault();
            if (isScrolling) return;
            
            if (e.deltaY > 0) {
                scrollToSection(currentSection + 1);
            } else if (e.deltaY < 0) {
                scrollToSection(currentSection - 1);
            }
        }, { passive: false });

        // Touch navigation - immediate section change (desktop/tablet only, not mobile)
        // On mobile, CSS scroll-snap handles everything
        let touchStartY = 0;
        let touchEndY = 0;
        const touchThreshold = 30;

        snapContainer.addEventListener('touchstart', (e) => {
            // On mobile, let CSS scroll-snap handle it
            if (window.innerWidth <= 768) return;
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        snapContainer.addEventListener('touchmove', (e) => {
            // On mobile, let CSS scroll-snap handle it
            if (window.innerWidth <= 768) return;
            
            if (isScrolling) {
                e.preventDefault();
                return;
            }
            touchEndY = e.touches[0].clientY;
        }, { passive: false });

        snapContainer.addEventListener('touchend', (e) => {
            // On mobile, let CSS scroll-snap handle it
            if (window.innerWidth <= 768) return;
            
            if (isScrolling) return;
            
            const diff = touchStartY - touchEndY;
            if (Math.abs(diff) > touchThreshold) {
                if (diff > 0) {
                    scrollToSection(currentSection + 1);
                } else {
                    scrollToSection(currentSection - 1);
                }
            }
            touchStartY = 0;
            touchEndY = 0;
        }, { passive: true });

        // Intersection Observer to sync nav with scroll position
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
                    const sectionIndex = parseInt(entry.target.dataset.section);
                    if (!isNaN(sectionIndex) && !isScrolling) {
                        currentSection = sectionIndex;
                        updateNav(sectionIndex);
                    }
                }
            });
        }, {
            root: snapContainer,
            threshold: 0.5
        });

        snapSections.forEach(section => {
            if (section.dataset.section) {
                sectionObserver.observe(section);
            }
        });

        // Safety: reset stuck state
        setInterval(() => {
            if (isScrolling && (Date.now() - lastScrollTime > scrollDuration + 300)) {
                isScrolling = false;
                wheelAccumulator = 0;
            }
        }, 500);

        // Track scroll activity
        snapContainer.addEventListener('scroll', () => {
            lastScrollTime = Date.now();
        }, { passive: true });

        // Update ScrollTrigger to use snap container
        ScrollTrigger.defaults({
            scroller: snapContainer
        });

        // Animate sections on enter
        snapSections.forEach((section, index) => {
            gsap.fromTo(section.querySelectorAll('.reveal-text, .glass-card, h2, h3'),
                {
                    opacity: 0,
                    y: 60,
                    filter: 'blur(10px)'
                },
                {
                    opacity: 1,
                    y: 0,
                    filter: 'blur(0px)',
                    duration: 0.8,
                    stagger: 0.1,
                    ease: 'power3.out',
                    scrollTrigger: {
                        trigger: section,
                        scroller: snapContainer,
                        start: 'top 60%',
                        toggleActions: 'play none none reverse'
                    }
                }
            );
        });

        // Initialize first section
        updateNav(0);

        // Nav links click handler
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetIndex = parseInt(link.dataset.target);
                scrollToSection(targetIndex);
            });
        });

        // Logo click to go home
        document.querySelector('.font-display').parentElement.addEventListener('click', () => {
            scrollToSection(0);
        });
        document.querySelector('.font-display').parentElement.style.cursor = 'pointer';

        // Matrix typewriter effect is now integrated into the particle system

        // ===== PROTOCOL CARDS BLUR EFFECT (MOBILE) =====
        (function() {
            function isMobile() {
                return window.innerWidth <= 768;
            }
            
            function applyBlurEffect() {
                const cards = document.querySelectorAll('#methodology .protocol-card');
                if (cards.length === 0) return;
                
                if (!isMobile()) {
                    // Reset classes on desktop
                    cards.forEach(card => {
                        card.classList.remove('blurred', 'active');
                    });
                    return;
                }
                
                const viewportHeight = window.innerHeight;
                const viewportCenter = viewportHeight / 2;
                
                // Find the card wrapper closest to viewport center
                let closestCard = null;
                let minDistance = Infinity;
                
                cards.forEach(card => {
                    // Use the wrapper's position for accurate snapping
                    const wrapper = card.closest('.protocol-card-wrapper');
                    if (wrapper) {
                        const rect = wrapper.getBoundingClientRect();
                        const wrapperCenter = rect.top + rect.height / 2;
                        const distance = Math.abs(wrapperCenter - viewportCenter);
                        
                        if (distance < minDistance) {
                            minDistance = distance;
                            closestCard = card;
                        }
                    }
                });
                
                // Apply classes: only the closest card is visible, others are blurred
                cards.forEach(card => {
                    if (card === closestCard) {
                        card.classList.remove('blurred');
                        card.classList.add('active');
                    } else {
                        card.classList.remove('active');
                        card.classList.add('blurred');
                    }
                });
            }
            
            // Apply blur immediately to all cards except first one on init
            function initBlurState() {
                const cards = document.querySelectorAll('#methodology .protocol-card');
                if (!isMobile()) {
                    cards.forEach(card => card.classList.remove('blurred', 'active'));
                    return;
                }
                
                cards.forEach((card, index) => {
                    if (index === 0) {
                        card.classList.remove('blurred');
                        card.classList.add('active');
                    } else {
                        card.classList.remove('active');
                        card.classList.add('blurred');
                    }
                });
            }
            
            // Run on scroll
            const container = document.getElementById('snap-container');
            if (container) {
                container.addEventListener('scroll', applyBlurEffect, { passive: true });
            }
            window.addEventListener('scroll', applyBlurEffect, { passive: true });
            
            // Run on load
            window.addEventListener('load', initBlurState);
            document.addEventListener('DOMContentLoaded', initBlurState);
            
            // Run on resize
            window.addEventListener('resize', applyBlurEffect);
            
            // Initial run immediately
            initBlurState();
            
            // Also run after short delays to catch any timing issues
            setTimeout(initBlurState, 100);
            setTimeout(initBlurState, 500);
            setTimeout(initBlurState, 1000);
        })();
    </script>

    <!-- Typewriter Effect -->
    <script>
        (function() {
            const words = ['clarté', 'liberté', 'efficacité', 'simplicité', 'sérénité'];
            let wordIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            let isPaused = false;
            
            const typewriterWord = document.getElementById('typewriter-word');
            const typewriterArticle = document.getElementById('typewriter-article');
            const typewriterCursor = document.getElementById('typewriter-cursor');
            
            // French vowels for elision check
            const vowels = ['a', 'e', 'i', 'o', 'u', 'é', 'è', 'ê', 'ë', 'à', 'â', 'î', 'ï', 'ô', 'ù', 'û', 'h'];
            
            function needsElision(word) {
                return vowels.includes(word.charAt(0).toLowerCase());
            }
            
            function updateArticle(word) {
                if (typewriterArticle) {
                    typewriterArticle.textContent = needsElision(word) ? "l'" : "la ";
                }
            }
            
            // Typing speeds (ms)
            const typeSpeed = 80;
            const deleteSpeed = 50;
            const pauseAfterWord = 2500;  // Pause when word is complete
            const pauseBeforeType = 400;  // Pause before typing new word
            
            function typeWriter() {
                if (!typewriterWord) return;
                
                const currentWord = words[wordIndex];
                
                if (isPaused) {
                    return;
                }
                
                if (!isDeleting) {
                    // Update article before typing first character
                    if (charIndex === 0) {
                        updateArticle(currentWord);
                    }
                    
                    // Typing
                    typewriterWord.textContent = currentWord.substring(0, charIndex + 1);
                    charIndex++;
                    
                    if (charIndex === currentWord.length) {
                        // Word complete - pause before deleting
                        isPaused = true;
                        setTimeout(() => {
                            isPaused = false;
                            isDeleting = true;
                            typeWriter();
                        }, pauseAfterWord);
                        return;
                    }
                    
                    setTimeout(typeWriter, typeSpeed);
                } else {
                    // Deleting
                    typewriterWord.textContent = currentWord.substring(0, charIndex - 1);
                    charIndex--;
                    
                    if (charIndex === 0) {
                        // Word deleted - move to next word
                        isDeleting = false;
                        wordIndex = (wordIndex + 1) % words.length;
                        
                        // Pause before typing new word
                        isPaused = true;
                        setTimeout(() => {
                            isPaused = false;
                            typeWriter();
                        }, pauseBeforeType);
                        return;
                    }
                    
                    setTimeout(typeWriter, deleteSpeed);
                }
            }
            
            // Initialize with first word's article
            updateArticle(words[0]);
            
            // Start the typewriter effect
            setTimeout(typeWriter, 800);
        })();
    </script>
</body>

</html>